(function(n,u){n.HAPCirclePlayer=function(h){function p(c){e.length&&(d.clearRect(0,0,a,a),d.beginPath(),d.arc(a/2,a/2,q-l/2,-m,r*c-m,!1),d.strokeStyle=t,d.lineCap="butt",d.lineWidth=l,d.stroke())}h=h.parent;var k=h.find(".hap-circle-player"),g=h.find(".hap-load-canvas"),e=h.find(".hap-progress-canvas"),l=parseInt(k.attr("data-stroke-size"),10);if(g.length)var n=g.attr("data-color"),f=g[0].getContext("2d"),a=g.width();if(e.length){var t=e.attr("data-color"),d=e[0].getContext("2d");a=e.width()}var r=
2*Math.PI,m=Math.PI/2,q=a/2;this.drawSeekbar=function(c,b,d){g.length&&g.length&&(f.clearRect(0,0,a,a),f.beginPath(),f.arc(a/2,a/2,q-l/2,-m,r*c-m,!1),f.strokeStyle=n,f.lineCap="butt",f.lineWidth=l,f.stroke());e.length&&p(b/d)};this.clear=function(){e.length&&d.clearRect(0,0,a,a);g.length&&f.clearRect(0,0,a,a)};this.setProgress=function(c){var b=c.pageX-k.offset().left-a/2;c=c.pageY-k.offset().top-a/2;b=Math.atan2(c,b);b>-1*Math.PI&&b<-.5*Math.PI&&(b=2*Math.PI+b);b=Math.max(0,Math.min((b+Math.PI/2)/
2*Math.PI*10))/100;e.length&&(d.clearRect(0,0,a,a),p(b));return b};this.trackTooltip=function(c){var b=c.pageX-k.offset().left;c=c.pageY-k.offset().top;b=Math.atan2(c-a/2,b-a/2);b>-1*Math.PI&&b<-.5*Math.PI&&(b=2*Math.PI+b);return Math.max(0,Math.min((b+Math.PI/2)/2*Math.PI*10))/100}}})(window,jQuery);