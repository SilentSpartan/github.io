var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(c){var b=0;return function(){return b<c.length?{done:!1,value:c[b++]}:{done:!0}}};$jscomp.arrayIterator=function(c){return{next:$jscomp.arrayIteratorImpl(c)}};$jscomp.makeIterator=function(c){var b="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];return b?b.call(c):$jscomp.arrayIterator(c)};
(function(c){var b=function(){};b.isEmpty=function(b){return 0==b.replace(/^\s+|\s+$/g,"").length};b.isNumber=function(b){return!isNaN(parseFloat(b))&&isFinite(b)};b.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|sony|BlackBerry/i.test(navigator.userAgent)};b.isChrome=function(){return!!c.chrome&&(!!c.chrome.webstore||!!c.chrome.runtime)};b.isSafari=function(){return 0<Object.prototype.toString.call(c.HTMLElement).indexOf("Constructor")};b.isIE=function(){var b=-1;if("Microsoft Internet Explorer"==
navigator.appName){var c=navigator.userAgent,q=/MSIE ([0-9]{1,}[.0-9]{0,})/;null!=q.exec(c)&&(b=parseFloat(RegExp.$1))}else"Netscape"==navigator.appName&&(c=navigator.userAgent,q=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,null!=q.exec(c)&&(b=parseFloat(RegExp.$1)));return-1!=b?!0:!1};b.isIOS=function(){return navigator.userAgent.match(/(iPad|iPhone|iPod)/g)};b.isAndroid=function(){return-1<navigator.userAgent.indexOf("Android")};b.hasDownloadSupport=function(){return"download"in document.createElement("a")};
b.qualifyURL=function(b){var c=document.createElement("a");c.href=b;return c.href};b.relativePath=function(b){return/^(?:[a-z]+:)?\/\//i.test(b)};b.closestNumber=function(b,c){return b.reduce(function(b,e){return Math.abs(e-c)<Math.abs(b-c)?e:b})};b.hasLocalStorage=function(){try{return"localStorage"in c&&null!==c.localStorage}catch(e){return!1}};b.volumeCanBeSet=function(){var b=document.createElement("audio");if(!b)return!1;b.volume=0;return 0==b.volume?!0:!1};b.randomiseArray=function(b){var c=
[],e=[],A;for(A=0;A<b;A++)c[A]=A;for(A=0;A<b;A++){var C=Math.round(Math.random()*(c.length-1));e[A]=c[C];c.splice(C,1)}return e};b.valueLimit=function(b,c,q){return b<c?c:b>q?q:b};b.sortArray=function(b,c){var e,Q=b.length,C=[];for(e=0;e<Q;e++)C[e]=b[c[e]];return C};b.shuffleArray=function(b){for(var c=b.length-1;0<c;c--){var e=Math.floor(Math.random()*(c+1)),A=$jscomp.makeIterator([b[e],b[c]]);b[c]=A.next().value;b[e]=A.next().value}return b};b.keysrt=function(b,c,q){var e=1;q&&(e=-1);return b.sort(function(b,
q){var Q=b[c],n=q[c];return e*(Q<n?-1:Q>n?1:0)})};b.keysrt2=function(b,c,q,A){var e=1;A&&(e=-1);return b.sort(function(b,Q){var n=b[c][q],A=Q[c][q];return e*(n<A?-1:n>A?1:0)})};b.parseXML=function(b){if(c.ActiveXObject&&c.GetObject){var e=new ActiveXObject("Microsoft.XMLDOM");e.loadXML(b);return e}if(c.DOMParser)return(new DOMParser).parseFromString(b,"text/xml");throw Error("No XML parser available");};b.formatTime=function(b){b=parseInt(b,10);var c=Math.floor(b/3600),e=Math.floor((b-3600*c)/60);
b=b-3600*c-60*e;if(0<c)return 10>c&&(c="0"+c),10>e&&(e="0"+e),10>b&&(b="0"+b),c+":"+e+":"+b;10>e&&(e="0"+e);10>b&&(b="0"+b);return e+":"+b};b.formatNumber=function(b){return 9>b?"0"+(b+1):b+1};b.nFormatter=function(b,c){var e=[{value:1E18,symbol:"E"},{value:1E15,symbol:"P"},{value:1E12,symbol:"T"},{value:1E9,symbol:"G"},{value:1E6,symbol:"M"},{value:1E3,symbol:"k"}],A=/\.0+$|(\.[0-9]*[1-9])0+$/,C;for(C=0;C<e.length;C++)if(b>=e[C].value)return(b/e[C].value).toFixed(c).replace(A,"$1")+e[C].symbol;return b.toFixed(c).replace(A,
"$1")};b.hmsToSecondsOnly=function(b){b=b.split(":");for(var c=0,e=1;0<b.length;)c+=e*parseInt(b.pop()),e*=60;return c};b.canPlayMp3=function(){var b=document.createElement("audio");return!(!b.canPlayType||!b.canPlayType("audio/mpeg;").replace(/no/,""))};b.canPlayWav=function(){var b=document.createElement("audio");return!(!b.canPlayType||!b.canPlayType("audio/wav;").replace(/no/,""))};b.canPlayAac=function(){var b=document.createElement("audio");return!(!b.canPlayType||!b.canPlayType("audio/aac;").replace(/no/,
""))};b.canPlayOgg=function(){var b=document.createElement("audio");return!(!b.canPlayType||!b.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,""))};b.hasCanvas=function(){return!!document.createElement("canvas")};b.getElementOffsetTop=function(b){b=b.getBoundingClientRect();var e=document.body,q=document.documentElement;return Math.round(b.bottom-100+(c.pageYOffset||q.scrollTop||e.scrollTop)-(q.clientTop||e.clientTop||0))};b.getScrollTop=function(b){b=document.documentElement;return(c.pageYOffset||
b.scrollTop)-(b.clientTop||0)};b.getEvents=function(){var b={};"ontouchstart"in c?(b.downEvent="touchstart.ap mousedown.ap",b.moveEvent="touchmove.ap mousemove.ap",b.upEvent="touchend.ap mouseup.ap"):c.PointerEvent?(b.downEvent="pointerdown.ap",b.moveEvent="pointermove.ap",b.upEvent="pointerup.ap"):(b.downEvent="mousedown.ap",b.moveEvent="mousemove.ap",b.upEvent="mouseup.ap");return b};b.getUrlParameter=function(b){var e={};c.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(b,c,C){e[c]=
C});return b?e[b]:e};c.HAPUtils=b})(window);
(function(c,b){c.HAPPlaylistManager=function(c){function e(){B=HAPUtils.randomiseArray(D);console.log(B)}var q=this,A=c.loop,C=c.random,D,ha=!1,n=-1,S,V,T=!1,B=[],O=!1;this.setCounter=function(c,T){"undefined"===typeof T&&(T=!0);n=T?n+parseInt(c,10):parseInt(c,10);if(isNaN(n))alert("HAPPlaylistManager message: No active media, counter = "+n);else if(ha=!1,"playlist"==A||"single"==A){if(C)if(n>D-1){n=B[D-1];e();if(B[0]==n){var Ga=B.splice(0,1);B.push(Ga)}n=0}else 0>n&&(n=B[0],e(),B[D-1]==n&&(Ga=B.splice(D-
1,1),B.unshift(Ga)),n=D-1);else n>D-1?n=0:0>n&&(n=D-1);b(q).trigger("HAPPlaylistManager.COUNTER_READY",q.getCounter())}else"off"==A&&(n>D-1?(n=D-1,ha=!0):0>n&&(n=0,ha=!0),ha?b(q).trigger("HAPPlaylistManager.PLAYLIST_END"):b(q).trigger("HAPPlaylistManager.COUNTER_READY",q.getCounter()))};this.getCounter=function(){return C?O?n:B[n]:n};this.advanceHandler=function(c){O=!1;T?(T=!1,V+c>D-1?(n=D-1,b(q).trigger("HAPPlaylistManager.COUNTER_READY",q.getCounter())):0>V+c?(n=0,b(q).trigger("HAPPlaylistManager.COUNTER_READY",
q.getCounter())):q.setCounter(V+c,!1)):q.setCounter(c)};this.processPlaylistRequest=function(b){O=!1;C&&(O=!0,S=b,T||(V=n,T=!0));q.setCounter(b,!1)};this.setPlaylistItems=function(b,c){"undefined"===typeof c&&(c=!0);c&&(n=-1);D=b;C&&e()};this.reSetCounter=function(b){"undefined"===typeof b?n=-1:(b=parseInt(b,10),D?(b>D-1?b=D-1:0>b&&(b=0),n=b):n=-1)};this.setRandom=function(b){(C=b)&&e();if(C){var c=B.length;for(b=0;b<c;b++)if(B[b]==n){if(0==b)break;b=B.splice(b,1);B.unshift(parseInt(b,10));break}n=
0}else T?(n=S,T=!1):n=B[n]};this.setLooping=function(b){A=b};this.getPosition=function(b){return B.indexOf(b)}}})(window,jQuery);
(function(c,b){c.HAPPlaybackRateSlider=function(e){function Q(b){if(!S){if("touchstart"==b.type){if(b=b.originalEvent.touches,!(b&&0<b.length))return!1}else b.preventDefault();S=!0;D.on(Ha.moveEvent,function(b){a:{if("touchmove"==b.type){if(b.originalEvent.touches&&b.originalEvent.touches.length)var c=b.originalEvent.touches;else if(b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length)c=b.originalEvent.changedTouches;else break a;if(1<c.length)break a;c=c[0]}else c=b;b.preventDefault();
q(c);A(c)}}).on(Ha.upEvent,function(b){a:if(S){S=!1;D.off(Ha.moveEvent).off(Ha.upEvent);if("touchend"==b.type){if(b.originalEvent.touches&&b.originalEvent.touches.length)var c=b.originalEvent.touches;else if(b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length)c=b.originalEvent.changedTouches;else break a;if(1<c.length)break a;c=c[0]}else c=b;b.preventDefault();q(c);B.hide()}})}return!1}function q(b){V?(b=Math.max(0,Math.min(1,(b.pageY-O.offset().top)/fa)),b=1-b):b=Math.max(0,Math.min(1,
(b.pageX-O.offset().left)/fa));C.setValue(b)}function A(b){var c=V?b.pageY-O.offset().top:b.pageX-O.offset().left;0>c?c=0:c>fa&&(c=fa);c=Math.max(0,Math.min(1,c/fa));if(!HAPUtils.isNumber(c))return!1;V&&(c=1-c);c=Pa+(Eb-Pa)*c;c=Math.round(10*c)/10;B.text(c);c=n[0].getBoundingClientRect();var e=W[0].getBoundingClientRect();if(V){var q=parseInt(e.left-c.left-B.outerWidth()/2+W.outerWidth()/2);b=parseInt(b.pageY-ha.scrollTop()-c.top-B.outerHeight()-10);b<e.top-c.top-B.outerHeight()-10?b=e.top-c.top-
B.outerHeight()-10:b>e.top-c.top+W.outerHeight()-B.outerHeight()&&(b=e.top-c.top+W.outerHeight()-B.outerHeight())}else q=parseInt(b.pageX-ha.scrollLeft()-c.left-B.outerWidth()/2),b=parseInt(e.top-c.top-B.outerHeight()),q<e.left-c.left?q=e.left-c.left:q>e.left-c.left+W.outerWidth()-B.outerWidth()&&(q=e.left-c.left+W.outerWidth()-B.outerWidth());0>b+c.top&&(b=parseInt(e.top-c.top+B.outerHeight()+15));0>b&&(b=0);B.css({left:q+"px",top:b+"px"}).show()}var C=this,D=b(document),ha=b(c),n=e.wrapper,S,V=
e.isVertical,T=V?"height":"width",B=e.tooltip,O=e.sliderBg,Ga=e.sliderLevel,W=e.seekbar,fa=V?O.height():O.width(),Ha=HAPUtils.getEvents(),Pa=e.settings.playbackRateMin,Eb=e.settings.playbackRateMax;W.on(Ha.downEvent,function(b){Q(b);return!1});this.setValue=function(c){HAPUtils.isNumber(fa)||(fa=V?O.height():O.width());Ga.css(T,c*fa+"px");c=Pa+(Eb-Pa)*c;c=Math.round(10*c)/10;b(C).trigger("HAPPlaybackRateSlider.RANGE_CHANGE",{value:c})};this.setVisual=function(b){b=(b-Pa)/(Eb-Pa);HAPUtils.isNumber(fa)||
(fa=V?O.height():O.width());Ga.css(T,b*fa+"px")};if(!HAPUtils.isMobile()){var Ia=function(){W.off(Ha.moveEvent,A).off("mouseout",Ia);D.off("mouseout",Ia);B.hide()};W.on("mouseover",function(){S||(W.on(Ha.moveEvent,A).on("mouseout",Ia),D.on("mouseout",Ia))})}}})(window,jQuery);
(function(c,b){c.HAPRangeSlider=function(e){function Q(c){if(!C){if("touchstart"==c.type){if(c=c.originalEvent.touches,!(c&&0<c.length))return!1}else c.preventDefault();C=!0;A.on(D.moveEvent,function(c){a:{if("touchmove"==c.type){if(c.originalEvent.touches&&c.originalEvent.touches.length)var e=c.originalEvent.touches;else if(c.originalEvent.changedTouches&&c.originalEvent.changedTouches.length)e=c.originalEvent.changedTouches;else break a;if(1<e.length)break a;e=e[0]}else e=c;c.preventDefault();b(q).trigger("HAPRangeSlider.RANGE_CHANGE",
{point:e,elem:S,event:e})}}).on(D.upEvent,function(c){a:if(C){C=!1;A.off(D.moveEvent).off(D.upEvent);if("touchend"==c.type){if(c.originalEvent.touches&&c.originalEvent.touches.length)var e=c.originalEvent.touches;else if(c.originalEvent.changedTouches&&c.originalEvent.changedTouches.length)e=c.originalEvent.changedTouches;else break a;if(1<e.length)break a;e=e[0]}else e=c;c.preventDefault();b(q).trigger("HAPRangeSlider.RANGE_CHANGE",{point:e,elem:S})}})}return!1}var q=this,A=b(document);b(c);var C,
D=HAPUtils.getEvents(),ha=e.range_handle_a,n=e.range_handle_b,S;ha.on(D.downEvent,function(c){S=b(this).css("z-index",1);n.css("z-index",0);Q(c);return!1});n.on(D.downEvent,function(c){S=b(this).css("z-index",1);ha.css("z-index",0);Q(c);return!1});this.isDrag=function(){return C}}})(window,jQuery);var hapjq=jQuery;
(function(c){c.fn.hap=function(b){function e(){G=f.mp3;-1!=G.indexOf("ebsfm:")&&(G=atob(G.substr(6)));if(md)X&&(d=0,b.resumeTime?d=resumeTime:f.start&&(d=f.start),ja?u.loadVideoById({videoId:G,startSeconds:d,endSeconds:f.end,suggestedQuality:f.quality}):u.cueVideoById({videoId:G,startSeconds:d,endSeconds:f.end,suggestedQuality:f.quality}));else{if(0==ia.length){alert("Using Youtube requires player to have thumbnail image in player where Youtube player will be placed. Please use demo which has thumbnail in player! hap-player-thumb element");
return}cb=c('<div class="hap-youtube-holder"/>').appendTo(ia);var a="ytplayer"+Math.floor(16777215*Math.random()),d="https:"==window.location.protocol?"https:":"http:",v=window.location.href.split("/");v=v[0]+"//"+v[2];var m="&origin="+v;d=d+"//www.youtube-nocookie.com/embed/"+G+"?enablejsapi=1&controls=0&rel=0&showinfo=0&playsinline=1&modestbranding=1&wmode=transparent&iv_load_policy=3&cc_load_policy=0";/^http/.test(v)&&(d+=m);b.resumeTime?(d+="&start="+b.resumeTime,delete b.resumeTime):f.start&&
(d+="&start="+f.start);f.end&&(d+="&end="+f.end);d=c("<iframe/>",{id:a,frameborder:0,src:d,width:"100%",height:"100%",webkitAllowFullScreen:!1,mozallowfullscreen:!1,allowFullScreen:!1,allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"}).addClass("hap-media");cb.show().prepend(d);window.YT||(d=document.createElement("script"),d.src="https://www.youtube.com/iframe_api",v=document.getElementsByTagName("script")[0],v.parentNode.insertBefore(d,v));var r=setInterval(function(){window.YT&&
window.YT.Player&&(r&&clearInterval(r),u=new YT.Player(a,{events:{onReady:Q,onStateChange:q,onError:A}}))},100);md=!0}cb.show()}function Q(a){X=!0;nd&&ja&&u.playVideo()}function q(a){cb.is(":visible")&&-1!=a.data&&(0==a.data?db&&wa&&!ka&&!Zb.isDrag()?(ka=!0,u.seekTo(la),u.playVideo()):$b||($b=!0,Ec()):1==a.data?(Fc||($b=!1,u.setPlaybackRate(f.playbackRate),eb&&eb.setVisual(f.playbackRate),od||(od=c('<div class="hap-iframe-blocker"></div>').css("display","block").appendTo(cb)),nd=ja=Fc=!0,Yd&&cb.css("opacity",
0)),db&&wa&&setTimeout(function(){clearTimeout(this);ka=!1},1E3),Qa&&clearInterval(Qa),Qa=setInterval(pd,qd),Gc()):2==a.data&&rd())}function A(a){c(g).trigger("soundError",{instance:g,instanceName:K,data:f,error:a})}function C(){navigator.mediaSession.metadata=new MediaMetadata({title:f.title,artist:f.artist||"",album:f.album||"",artwork:[{src:f.thumb||""}]})}function D(a){var d=k[0].getBoundingClientRect(),b=a[0].getBoundingClientRect();t.text(a.attr("data-tooltip"));var c=parseInt(b.top-d.top-t.outerHeight());
a=parseInt(b.left-d.left-t.outerWidth()/2+a.outerWidth()/2);a+t.outerWidth()>k.width()?a=k.width()-t.outerWidth():0>a&&(a=0);0>c+d.top&&(c=parseInt(b.top-d.top+t.outerHeight()+15));t.css({left:a+"px",top:c+"px"}).show()}function ha(a){if(p){if(!fb){if("touchstart"==a.type){if(a=a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();fb=!0;Ja.on(ca.moveEvent,function(a){a:{if("touchmove"==a.type){if(a.originalEvent.touches&&a.originalEvent.touches.length)var d=a.originalEvent.touches;
else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)d=a.originalEvent.changedTouches;else break a;if(1<d.length)break a;d=d[0]}else d=a;a.preventDefault();n(d)}}).on(ca.upEvent,function(a){a:if(fb){fb=!1;Ja.off(ca.moveEvent).off(ca.upEvent);if("touchend"==a.type){if(a.originalEvent.touches&&a.originalEvent.touches.length)var d=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)d=a.originalEvent.changedTouches;else break a;
if(1<d.length)break a;d=d[0]}else d=a;a.preventDefault();n(d,!0);t.hide()}})}return!1}}function n(a,d){if(Fb)b=ac.setProgress(a);else{b=a.pageX-Gb.offset().left;0>b?b=0:b>M&&(b=M);var b=Math.max(0,Math.min(1,b/M))}if(d){if("youtube"==h)u&&X&&u.seekTo(b*u.getDuration());else if("audio"==h&&l&&!isNaN(l.duration)){var c=l.duration;var r=b*c;r>c-2&&(r=c-2);try{l.currentTime=r}catch(ma){console.log(ma)}}bc||na.width(b*M)}else na.width(b*M)}function S(a){if(Fb)d=ac.trackTooltip(a),b=k[0].getBoundingClientRect(),
c=xa[0].getBoundingClientRect(),r=parseInt(c.top-b.top-t.outerHeight()-20),a=parseInt(c.left-b.left-t.outerWidth()/2+xa.outerWidth()/2),a+t.outerWidth()>k.width()?a=k.width()-t.outerWidth():0>a&&(a=0),0>r+b.top&&(r=parseInt(c.top-b.top+t.outerHeight()+20));else{d=a.pageX-Gb.offset().left;if(!HAPUtils.isNumber(d))return!1;0>d?d=0:d>M&&(d=M);var d=Math.max(0,Math.min(1,d/M)),b=k[0].getBoundingClientRect(),c=xa[0].getBoundingClientRect();a=parseInt(a.pageX-pb.scrollLeft()-b.left-t.outerWidth()/2);var r=
parseInt(c.top-b.top-t.outerHeight(),10)-10;a<c.left-b.left?a=c.left-b.left:a>c.left-b.left+xa.outerWidth()-t.outerWidth()&&(a=c.left-b.left+xa.outerWidth()-t.outerWidth());0>r+b.top&&(r=parseInt(c.top-b.top+t.outerHeight()+15))}t.css({left:a+"px",top:r+"px"});if(!HAPUtils.isNumber(d))return!1;if("youtube"==h){if(u&&X){var ma=u.getDuration();r=d*ma}}else"audio"==h&&l&&(ma=l.duration,r=d*ma);HAPUtils.isNumber(ma)&&HAPUtils.isNumber(ma)&&t.html(HAPUtils.formatTime(r)+" / "+HAPUtils.formatTime(ma)).show()}
function V(a){if(p){if(!Hb){if("touchstart"==a.type){if(a=a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();Hb=!0;Ja.on(ca.moveEvent,function(a){a:{if("touchmove"==a.type){if(a.originalEvent.touches&&a.originalEvent.touches.length)var d=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)d=a.originalEvent.changedTouches;else break a;if(1<d.length)break a;d=d[0]}else d=a;a.preventDefault();B(d)}}).on(ca.upEvent,function(a){a:if(Hb){Hb=
!1;Ja.off(ca.moveEvent).off(ca.upEvent);if("touchend"==a.type){if(a.originalEvent.touches&&a.originalEvent.touches.length)var d=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)d=a.originalEvent.changedTouches;else break a;if(1<d.length)break a;d=d[0]}else d=a;a.preventDefault();B(d);t.hide()}})}return!1}}function T(){if(!p)return!1;0<F?(Hc=F,F=0):F=Hc;O()}function B(a){gb?(F=Math.max(0,Math.min(1,(a.pageY-Ra.offset().top)/Sa)),F=1-F):F=Math.max(0,
Math.min(1,(a.pageX-Ra.offset().left)/Sa));O()}function O(a){"undefined"!==typeof a&&(F=a);"youtube"==h?u&&X&&u.setVolume(100*F):l&&(l.volume=F,l.muted=0==F?!0:!1);a=gb?"height":"width";HAPUtils.isNumber(Sa)||(Sa=gb?Ra.height():Ra.width());Zd.css(a,F*Sa+"px");qb.children().hide();0==F?qb.find(".hap-btn-volume-off").show():0<F&&.5>F?qb.find(".hap-btn-volume-down").show():qb.find(".hap-btn-volume-up").show();c(g).trigger("volumeChange",{instance:g,instanceName:K,volume:F})}function Ga(a){var d=gb?a.pageY-
Ra.offset().top:a.pageX-Ra.offset().left;0>d?d=0:d>Sa&&(d=Sa);d=Math.max(0,Math.min(1,d/Sa));if(!HAPUtils.isNumber(d))return!1;gb&&(d=1-d);d=parseInt(100*d,10);t.text(d+" %");d=k[0].getBoundingClientRect();var b=oa[0].getBoundingClientRect();if(gb){var c=parseInt(b.left-d.left-t.outerWidth()/2+oa.outerWidth()/2);a=parseInt(a.pageY-pb.scrollTop()-d.top-t.outerHeight()-20);a<b.top-d.top-t.outerHeight()-10?a=b.top-d.top-t.outerHeight()-10:a>b.top-d.top+oa.outerHeight()-t.outerHeight()&&(a=b.top-d.top+
oa.outerHeight()-t.outerHeight())}else c=parseInt(a.pageX-pb.scrollLeft()-d.left-t.outerWidth()/2),a=parseInt(b.top-d.top-t.outerHeight())-15,c<b.left-d.left?c=b.left-d.left:c>b.left-d.left+oa.outerWidth()-t.outerWidth()&&(c=b.left-d.left+oa.outerWidth()-t.outerWidth());0>a+d.top&&(a=parseInt(b.top-d.top+t.outerHeight()+20));t.css({left:c+"px",top:a+"px"}).show()}function W(a){a=Math.max(0,Math.min(1,a/M));if("youtube"==h)var d=u.getDuration();else"audio"==h&&(d=l.duration);return a*d}function fa(a){if(!p||
cc||x&&x.isAdOn())return!1;a=c(a.currentTarget);ja=Ic=!0;Ib();Jb&&f.adMid&&!Kb&&x.forceAdMidAudio();if(rb){var d=a.closest(".hap-accordion-item").attr("data-id");if(d!=dc){dc=d;H=ec[dc].data;w=H.length;for(d=0;d<w;d++)H[d].id=d;E.setPlaylistItems(w)}}a=a.closest(".hap-playlist-item").attr("data-id");E.processPlaylistRequest(a);-1<Y.indexOf("hap-art-narrow-light")&&g.togglePlaylist();c(g).trigger("clickPlaylistItem",{instance:g,instanceName:K})}function Ha(a){a.preventDefault();if(!p)return!1;c(a.currentTarget).closest(".hap-playlist-item").addClass("hap-playlist-item-selected");
c(g).trigger("overPlaylistItem",{instance:g,instanceName:K})}function Pa(a){a.preventDefault();if(!p)return!1;a=c(a.currentTarget).closest(".hap-playlist-item");a.hasClass("hap-playlist-item-disabled")||a.removeClass("hap-playlist-item-selected");c(g).trigger("outPlaylistItem",{instance:g,instanceName:K})}function Eb(a){if(!p)return!1;a=c(a.currentTarget);if(a.hasClass("hap-playlist-toggle")||a.hasClass("hap-playlist-close"))g.togglePlaylist();else if(a.hasClass("hap-prev-toggle")){Jb&&f.adMid&&!Kb&&
x.forceAdMidAudio();if(cc||x&&x.isAdOn())return!1;g.previousMedia()}else if(a.hasClass("hap-playback-toggle"))Jb&&f.adMid&&!Kb&&x.forceAdMidAudio(),g.togglePlayback();else if(a.hasClass("hap-next-toggle")){Jb&&f.adMid&&!Kb&&x.forceAdMidAudio();if(cc||x&&x.isAdOn())return!1;g.nextMedia()}else if(a.hasClass("hap-range-toggle"))g.toggleRange();else if(a.hasClass("hap-playback-rate-toggle")||a.hasClass("hap-playback-rate-close"))Jc.hide(),Kc.toggle(),t.hide(),Kc.is(":visible")?fc.addClass("hap-contr-btn-hover"):
fc.removeClass("hap-contr-btn-hover"),gc.removeClass("hap-contr-btn-hover");else if(a.hasClass("hap-loop-toggle"))hb.find(".hap-btn").hide(),ib++,ib>Lb.length-1&&(ib=0),Z=Lb[ib],hb.find(".hap-btn-loop-"+Z).show(),E.setLooping(Z),D(hb.find(".hap-btn:visible"));else if(a.hasClass("hap-random-toggle"))Ba=!Ba,E.setRandom(Ba),Ca.find(".hap-btn").hide(),Ba?Ca.find(".hap-btn-random-on").show():Ca.find(".hap-btn-random-off").show(),D(Ca.find(".hap-btn:visible"));else if(a.hasClass("hap-sort-alpha"))HAPUtils.isEmpty(pa)?
pa="title-asc":"title-asc"==pa?pa="title-desc":"title-desc"==pa&&(pa="title-asc"),g.sort(pa),D(Ka.find(".hap-btn:visible"));else if(a.hasClass("hap-popup-toggle")){if(b.isPopup)return!1;hapOpenPopup(b,g)}else if(a.hasClass("hap-volume-toggle"))jb&&0!=oa.length||T();else if(a.hasClass("hap-share-toggle")||a.hasClass("hap-share-close"))Jc.toggle(),Kc.hide(),t.hide(),fc.removeClass("hap-contr-btn-hover"),Jc.is(":visible")?gc.addClass("hap-contr-btn-hover"):gc.removeClass("hap-contr-btn-hover");else if(a.hasClass("hap-share-item")){if(!h)return!1;
sd.share(a.attr("data-type").toLowerCase(),f)}}function Ia(){L&&(c(g).trigger("playlistItemEnabled",{instance:g,instanceName:K,item:L}),L.removeClass("hap-playlist-item-selected hap-playlist-item-disabled"),L=null)}function Vd(a){L&&Ia();L=y.children(".hap-playlist-item").eq(a);if(L.length){L.addClass("hap-playlist-item-selected hap-playlist-item-disabled");if(Mb&&0<w){if(!Ic)if("undefined"!==typeof mCustomScrollbar)"horizontal"==Lc?kb.mCustomScrollbar("scrollTo",parseInt(L.position().left),{scrollInertia:500}):
kb.mCustomScrollbar("scrollTo",parseInt(L.position().top),{scrollInertia:500});else var d=setInterval(function(){"undefined"!==typeof mCustomScrollbar&&(clearInterval(d),"horizontal"==Lc?kb.mCustomScrollbar("scrollTo",parseInt(L.position().left),{scrollInertia:500}):kb.mCustomScrollbar("scrollTo",parseInt(L.position().top),{scrollInertia:500}))},500);Ic=!1}-1<Y.indexOf("hap-wall2")&&(k.find(".hap-circle-player").addClass("hap-circle-player-set").appendTo(L),k.find(".hap-playback-toggle-wrapper").show().appendTo(L));
c(g).trigger("playlistItemDisabled",{instance:g,instanceName:K,item:L})}}function ld(a){R=!0;ya.show();Ta&&hc();var d=Mc.length?Mc.find(a):c(a);if(0==d.length)return alert("Failed playlist selection! Playlist - "+a+" does not exist. Check activePlaylist option in settings!"),R=!1,ya.hide(),!1;b.activePlaylist=a;c(g).trigger("playlistStartLoad",{instance:g,instanceName:K});d.find(".hap-playlist-options").length&&(d.find(".hap-playlist-options").clone().prependTo(y),void 0!=d.find(".hap-playlist-options").attr("data-media-prefix-url")&&
(La=d.find(".hap-playlist-options").attr("data-media-prefix-url")));sb=null;void 0!=d.attr("data-playlist-id")&&(sb=d.attr("data-playlist-id"),b.playlistId=sb);d.children(".hap-playlist-item").each(function(){N.push(td(c(this)))});w=N.length;I()}function Wd(a){console.log(a);c.ajax({type:"GET",url:a.path,dataType:"html"}).done(function(d){var b={};c(d).children(".hap-playlist-item").each(function(){b=td(c(this));a.origtype&&(b.origtype=a.origtype);"undefined"!==a.mediaId&&(b.mediaId=a.mediaId);N.push(b)});
w=N.length;I()}).fail(function(a,b,c){console.log("Error processXml: "+a,b,c);I()})}function Xd(a){if("file:"==window.location.protocol)return alert("Reading m3u files requires server connection."),!1;c.ajax({type:"GET",url:a.path}).done(function(d){var b,m;d.replace("#EXTM3U","").split("#EXTINF:").slice(1).map(function(d,v){b=c.extend(!0,{},a);b.type="audio";m=d.split("\n").slice(0,-1);b.mp3=c.trim(m[1]);var r=m[0].split(",");if(1<r.length){var ma=r[0];HAPUtils.isNumber(ma)&&-1!=ma&&(b.duration=
ma);r=r[1]}else r=r[0];-1<r.indexOf("-")?(r=r.split("-"),b.title=c.trim(r[1]),r[0].match(/^\d+(\s*)+\./)?(r=r[0].substr(r[0].indexOf(".")+1),b.artist=c.trim(r[1])):b.artist=c.trim(r[0])):b.title=c.trim(r);J.push(b)});I()}).fail(function(a,b,c){console.log("Error process m3u: "+a,b,c);I()})}function $d(a){c.ajax({type:"GET",url:a.path,dataType:"json"}).done(function(b){Ua=-1;J=[];N=[];lb=!1;Ta||(lb=!0);Ta=y;Array.isArray(b)?N=b:N.push(b);if(a.origtype&&"undefined"!==a.mediaId){var d=N.length;for(b=
0;b<d;b++)N[b].origtype=a.origtype,N[b].mediaId=a.mediaId}w=N.length;I()}).fail(function(a,b,c){console.log("Error processJson: "+a,b,c);I()})}function I(){Ua++;if(Ua>w-1)Va();else{var a=N[Ua],b=a.type;if("soundcloud"==b)if(qa="soundcloud",a.limit?(aa=a.limit,a.loadMore&&(ra=!0)):(aa=999999999,ra=!1),sa=[],window.SC)tb(!0,a.path);else{ud();var c=setInterval(function(){Nc&&(c&&clearInterval(c),tb(!0,a.path))},100)}else"podcast"==b?vd(a):"itunes_podcast_music"==b?ae(a):"folder"==b?(qa="folder",be(a)):
"folder_accordion"==b?(rb=!0,ce(a)):"gdrive_folder"==b?de(a):"hls"==b?(J.push(a),I()):"audio"==b?(J.push(a),I()):"shoutcast"==b||"icecast"==b||"radiojar"==b?(J.push(a),I()):"youtube_single"==b||"youtube_playlist"==b?(qa="youtube",a.loadMore&&(ra=!0),Wa||Oc("youtube"),Wa.setData(a)):"xml"==b?Wd(a):"json"==b?$d(a):"m3u"==b&&Xd(a)}}function td(a){var d={};d.type=d.origtype=a.attr("data-type");d.origclasses=a.attr("class");a.is(":empty")||(d.content=a.html());void 0!=a.attr("data-media-id")&&(d.mediaId=
parseInt(a.attr("data-media-id"),10));void 0!=a.attr("data-mp3")&&(d.mp3=a.attr("data-mp3"));void 0!=a.attr("data-wav")&&(d.wav=a.attr("data-wav"));void 0!=a.attr("data-aac")&&(d.aac=a.attr("data-aac"));void 0!=a.attr("data-path")&&(d.path=a.attr("data-path"),-1!=d.path.indexOf("ebsfm:")&&(d.path=atob(d.path.substr(6))));void 0!=a.attr("data-mountpoint")&&(d.mountpoint=a.attr("data-mountpoint"));void 0!=a.attr("data-version")&&(d.version=a.attr("data-version"));void 0!=a.attr("data-sid")&&(d.sid=
a.attr("data-sid"));void 0!=a.attr("data-limit")&&(d.limit=Math.abs(parseInt(a.attr("data-limit"),10)));void 0!=a.attr("data-thumb")&&(d.thumb=a.attr("data-thumb"));void 0!=a.attr("data-thumb-default")&&(d.thumbDefault=a.attr("data-thumb-default"));void 0!=a.attr("data-alt")&&(d.alt=a.attr("data-alt"));void 0!=a.attr("data-title")&&(d.title=a.attr("data-title"));void 0!=a.attr("data-description")&&(d.description=a.attr("data-description"));void 0!=a.attr("data-artist")&&(d.artist=a.attr("data-artist"));
void 0!=a.attr("data-album")&&(d.album=a.attr("data-album"));void 0!=a.attr("data-download")&&(d.download=a.attr("data-download"));void 0!=a.attr("data-duration")&&(d.duration=a.attr("data-duration"));void 0!=a.attr("data-date")&&(d.date=a.attr("data-date"));void 0!=a.attr("data-id3")&&(d.id3=!0);void 0!=a.attr("data-start")&&(d.start=Math.abs(a.attr("data-start")));void 0!=a.attr("data-end")&&(d.end=Math.abs(a.attr("data-end")));d.playbackRate=1;if(void 0!=a.attr("data-playback-rate")&&!HAPUtils.isEmpty(a.attr("data-playback-rate"))){var c=
Number(a.attr("data-playback-rate"));d.playbackRate=HAPUtils.valueLimit(c,b.playbackRateMin,b.playbackRateMax)}void 0!=a.attr("data-link")&&(d.link=a.attr("data-link"),d.target="_blank",void 0!=a.attr("data-target")&&(d.target=a.attr("data-target")));void 0!=a.attr("data-share")&&(d.share=a.attr("data-share"));void 0!=a.attr("data-sort")&&(d.sort=a.attr("data-sort"));void 0!=a.attr("data-active-folder")&&(d.activeFolder=a.attr("data-active-folder"));a.find(".hap-custom-playlist-item-content").length&&
(d.customContent=a.find(".hap-custom-playlist-item-content").html());void 0!=a.attr("data-load-more")&&(ra=!0);void 0!=a.attr("data-ad-pre")&&(d.adPre=a.attr("data-ad-pre").split(",").map(function(a){return a.trim()}),void 0!=a.attr("data-shuffle-ads")&&1<d.adPre.length&&HAPUtils.shuffleArray(d.adPre));void 0!=a.attr("data-ad-mid")&&(d.adMid=a.attr("data-ad-mid").split(",").map(function(a){return a.trim()}),void 0!=a.attr("data-shuffle-ads")&&1<d.adMid.length&&HAPUtils.shuffleArray(d.adMid),void 0!=
a.attr("data-ad-mid-interval")&&(d.adMidInterval=a.attr("data-ad-mid-interval")));void 0!=a.attr("data-ad-end")&&(d.adEnd=a.attr("data-ad-end").split(",").map(function(a){return a.trim()}),void 0!=a.attr("data-shuffle-ads")&&1<d.adEnd.length&&HAPUtils.shuffleArray(d.adEnd));return d}function Oc(a){"youtube"==a&&(Wa=new HAPYoutubeLoader(b),c(Wa).on("HAPYoutubeLoader.END_LOAD",function(a,b){var d,c=b.data.length;for(d=0;d<c;d++){var v=b.data[d];J.push(v)}P=b.nextPageToken;ta?Va():I()}))}function be(a){if("file:"==
window.location.protocol)return alert("Reading files from folders requires server connection."),!1;a.limit?(aa=a.limit,a.loadMore&&(ra=!0)):aa=999999999;var b=a.path.replace(/\/\//g,"/"),v=Pc+"includes/folder_parser.php";b={dir:b};var m=aa;P=[];a.id3?(Xa=ba=J.length-1,Qc=!0):Qc=!1;c.ajax({type:"GET",url:v,data:b,dataType:"json"}).done(function(b){var d,v=b.length;a.sort&&("filename-asc"==a.sort?HAPUtils.keysrt(b,"filename"):"filename-desc"==a.sort?HAPUtils.keysrt(b,"filename",!0):"date-asc"==a.sort?
HAPUtils.keysrt(b,"filemtime"):"date-desc"==a.sort&&HAPUtils.keysrt(b,"filemtime",!0));for(d=0;d<v;d++){var r=b[d];var e=c.extend(!0,{},a);e.type="audio";var f=r.fullpath;e[r.extension]=f;Nb&&!e.download&&(e.download=f);e.share||(e.share=f);Ob&&!e.link&&(e.link=f);e.title||(e.title=r.filename);d<m?(J.push(e),ba++):P.push(e)}0==P.length&&(ra=!1,P=null);a.id3?("undefined"===typeof jsmediatags&&alert("Link to jsmediatags.js missing in head tag!"),ic()):I()}).fail(function(a,b,d){console.log("Error processFolder: "+
a,b,d);I()})}function ce(a){if("file:"==window.location.protocol)return alert("Reading files from folders requires server connection."),!1;var b=a.path.replace(/\/\//g,"/");c.ajax({type:"GET",url:Pc+"includes/folder_accordion.php",data:{dir:b},dataType:"json"}).done(function(b){var d,c=b.length,v;for(d=0;d<c;d++){var e=b[d].children;ec.push({media:e});a.sort&&("filename-asc"==a.sort?HAPUtils.keysrt(e,"filename"):"filename-desc"==a.sort?HAPUtils.keysrt(e,"filename",!0):"date-asc"==a.sort?HAPUtils.keysrt(e,
"filemtime"):"date-desc"==a.sort&&HAPUtils.keysrt(e,"filemtime",!0));var f=e.length;for(v=0;v<f;v++){var h=e[v];var k={type:"audio"};"undefined"!==a.mediaId&&(k.mediaId=a.mediaId);var g=h.fullpath;k[h.extension]=g;Nb&&!k.download&&(k.download=g);k.share||(k.share=g);Ob&&!k.link&&(k.link=g);k.title||(k.title=h.filename);e[v]=k}}d=a.activeFolder;f=b.length;v="";for(c=0;c<f;c++)h=b[c].parent.replace(/"/g,"'"),"undefined"!==d&&d==h&&(Da=c),v+='<div class="hap-accordion-item" data-id="'+c+'" title="'+
h+'"><span class="hap-accordion-item-title">'+h+'</span><div class="hap-accordion-item-content"></div></div>';y.html(v);Da||(Da=0);dc=Da;y=Rc=y.find('.hap-accordion-item[data-id="'+Da+'"]').addClass("hap-accordion-item-inited hap-accordion-item-opened").find(".hap-accordion-item-content");J=b[Da].children;a.id3?(wd=!0,"undefined"===typeof jsmediatags&&alert("Link to jsmediatags.js missing in head tag!"),Xa=-1,ba=J.length-1,jc()):Va()}).fail(function(a,b,d){console.log("Error processFolderAccordion: "+
a,b,d);I()})}function de(a){if("file:"==window.location.protocol)return alert("Reading files from folders locally is not possible! This requires server connection."),!1;if(HAPUtils.isEmpty(xd))return alert("gDriveAppId has not been set in settings!"),!1;c.ajax({url:"https://www.googleapis.com/drive/v3/files?q='"+a.path+"'+in+parents&pageSize=1000&key="+xd,dataType:"jsonp"}).done(function(b){var d,m=b.files.length,r=[],e=[];for(d=0;d<m;d++){var f=b.files[d];/mp3|mpeg|mpeg3|wav|aac|adts/.test(f.mimeType)?
e.push(f):/jpg|jpeg|png/.test(f.mimeType)&&r.push(f)}a.sort&&("filename-asc"==a.sort?(HAPUtils.keysrt(e,"name"),HAPUtils.keysrt(r,"name")):"filename-desc"==a.sort&&(HAPUtils.keysrt(e,"name",!0),HAPUtils.keysrt(r,"name",!0)));m=e.length;for(d=0;d<m;d++){f=e[d];b=c.extend(!0,{},a);b.type="audio";var h=f.name.substr(f.name.lastIndexOf(".")+1);b[h.toLowerCase()]="https://drive.google.com/uc?export=view&id="+f.id;Nb&&!b.download&&(b.download="https://drive.google.com/uc?export=download&id="+f.id);b.share||
(b.share="https://drive.google.com/open?id="+f.id);Ob&&!b.link&&(b.link="https://drive.google.com/open?id="+f.id);!b.thumb&&r[d]&&(b.thumb="https://drive.google.com/uc?export=view&id="+r[d].id);b.title||(b.title=f.name.substr(0,f.name.lastIndexOf(".")));J.push(b)}I()}).fail(function(a,b,c){console.log("Error processGdriveFolder: "+a,b,c);I()})}function yd(){if(!P)return!1;R=!0;ya.show();J=P.splice(0,aa);0==P.length&&(P=null);Qc?(Xa=-1,ba=J.length-1,ic()):Va()}function ic(){var a=J[ba];jsmediatags.read(a.mp3||
a.wav||a.aac,{onSuccess:function(b){b=b.tags;var d=b.picture;b.artist&&(a.artist=b.artist);b.title&&(a.title=b.title);b.album&&(a.album=b.album);if(d){var c="",r,e=d.data.length;for(r=0;r<e;r++)c+=String.fromCharCode(d.data[r]);a.thumb="data:"+d.format+";base64,"+window.btoa(c)}b.TLEN&&(a.duration=b.TLEN.data/1E3);ba--;ba>Xa?ic():ta?Va():I()},onError:function(a){console.log("ID3 error: ",a.type,a.info);ba--;ba>Xa?ic():I()}})}function jc(){var a=J[ba];jsmediatags.read(a.mp3||a.wav||a.aac,{onSuccess:function(b){b=
b.tags;var d=b.picture;b.artist&&(a.artist=b.artist);b.title&&(a.title=b.title);b.album&&(a.album=b.album);if(d){var c="",r,e=d.data.length;for(r=0;r<e;r++)c+=String.fromCharCode(d.data[r]);a.thumb="data:"+d.format+";base64,"+window.btoa(c)}b.TLEN&&(a.duration=b.TLEN.data/1E3);ba--;ba>Xa?jc():Va()},onError:function(a){console.log("ID3 error: ",a.type,a.info);ba--;ba>Xa?jc():Va()}})}function vd(a){if("file:"==window.location.protocol)alert("Using Podcast locally is not possible! This requires online connection!");
else{aa=a.limit?a.limit:999999999;var b=ee+"?url="+encodeURIComponent(a.path),v=aa;c.ajax({url:b,dataType:"json",cache:!1}).done(function(b){var d=HAPUtils.parseXML(b.contents),e,m,f,h=0;c(d).find("image").length&&c(d).find("image").attr("href")?f=c(d).find("image").attr("href"):c(b.contents).find("itunes\\:image").length&&c(b.contents).find("itunes\\:image").attr("href")&&(f=c(b.contents).find("itunes\\:image").attr("href"));f&&f.lastIndexOf("&size=Large")&&(f=f.replace("=Large","=Small"));c(d).find("item").each(function(){if(h>=
v)return!1;e=c(this);m=c.extend(!0,{},a);m.type="audio";m.mp3=e.find("enclosure").attr("url");!m.title&&e.find("title").length&&(m.title=e.find("title").text());m.artist||(e.find("author").length?m.artist=e.find("author").text():e.find("itunes\\:author").length&&(m.artist=e.find("itunes\\:author").text()));e.find("pubDate").length&&(m.date=e.find("pubDate").text());if(!m.description&&e.find("description").length){var b=e.find("description").text(),d=document.createElement("div");d.innerHTML=b;m.description=
d.textContent||d.innerText||""}m.duration||(e.find("itunes\\:duration").length?m.duration=e.find("itunes\\:duration").text():e.find("duration").length&&(m.duration=e.find("duration").text()));m.thumb||(e.find("image").length&&e.find("image").attr("href")?m.thumb=e.find("image").attr("href"):e.find("itunes\\:image").length&&e.find("itunes\\:image").attr("href")?m.thumb=e.find("itunes\\:image").attr("href"):f&&(m.thumb=f));m.thumb.lastIndexOf("&size=Large")&&(m.thumb=m.thumb.replace("=Large","=Small"));
Nb&&!m.download&&(m.download=m.mp3);e.find("link").length&&(m.share||(m.share=e.find("link").text()),!m.link&&Ob&&(m.link=e.find("link").text()));J.push(m);h++});I()}).fail(function(a,b,d){console.log("Error processPodcast: "+a,b,d);I()})}}function ae(a){if("file:"==window.location.protocol)alert("Using Podcast locally is not possible! This requires online connection!");else{var b=a.path.match(/id(\d+)/);(b=b?b[1]:url.match(/\d+/))?c.ajax({url:"https://itunes.apple.com/lookup",data:{id:parseInt(b),
entity:"podcast"},type:"GET",dataType:"jsonp"}).done(function(b){a.path=b.results[0].feedUrl;vd(a)}).fail(function(a,b,d){console.log("Error processiTunes: "+a,b,d);I()}):(console.log("No Podcast ID found!"),I())}}function ud(){if("file:"==window.location.protocol)alert("Using SoundCloud locally is not possible! This requires server connection!");else{if(HAPUtils.isEmpty(kc))return alert("soundCloudAppId has not been set in settings!"),!1;var a=document.createElement("script");a.src="https://connect.soundcloud.com/sdk.js";
var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b);var c=setInterval(function(){window.SC&&(c&&clearInterval(c),SC.initialize({client_id:kc}),Nc=!0)},100)}}function tb(a,b){SC.get(a?"https://api.soundcloud.com/resolve.json?url="+b+"&client_id="+kc:b,{limit:aa,linked_partitioning:1},function(a,d){if(d){for(console.log("Error getSoundCloudPage: "+d);sa.length;)J.push(sa.splice(0,1)[0]);I()}else{if("track"==a.kind)lc(a);else if("playlist"==a.kind){var e,v=a.tracks.length;
if(sa.length+v>=aa){v=aa-sa.length;var m=!0}for(e=0;e<v;e++)lc(a.tracks[e])}else if(a.collection)for(v=a.collection.length,sa.length+v>=aa&&(v=aa-sa.length,m=!0),e=0;e<v;e++)lc(a.collection[e]);else{if(a.username){e=a.uri;e=/likes/.test(b)?e+"/likes":/favorites/.test(b)?e+"/favorites":e+"/tracks";tb(!1,e);return}if(c.isArray(a))for(v=a.length,sa.length+v>=aa&&(v=aa-sa.length,m=!0),e=0;e<v;e++)lc(a[e])}P=a.next_href?a.next_href:null;if(a.next_href&&!m)tb(!1,a.next_href);else{for(;sa.length;)J.push(sa.splice(0,
1)[0]);I()}}})}function zd(){if(!P)return!1;R=!0;ya.show();Ua=0;N=[];w=1;if(window.SC)tb(!1,P);else{ud();var a=setInterval(function(){Nc&&(a&&clearInterval(a),tb(!1,P))},100)}}function lc(a){if(a.streamable&&a.stream_url){var b=c.extend(!0,{},N[Ua]);b.type="audio";a.duration&&(b.duration=a.duration/1E3);b.mp3=a.stream_url+"?client_id="+kc;Nb&&!b.download&&a.downloadable&&a.download_url&&(b.download=b.mp3.replace(/\/stream\\?/,"/download"));!b.title&&a.title&&(b.title=a.title);!b.description&&a.description&&
(b.description=a.description);!b.thumb&&a.artwork_url&&(b.thumb=a.artwork_url);a.created_at&&(b.date=a.created_at);b.favoritingsCount=parseInt(a.favoritings_count?a.favoritings_count:0,10);b.playbackCount=parseInt(a.playback_count?a.playback_count:0,10);b.hotness=b.favoritingsCount+b.playbackCount;a.permalink_url&&(b.share||(b.share=a.permalink_url),Ob&&!b.link&&(b.link=a.permalink_url));sa.push(b)}}function Va(){var a,d=Ya?da:H.length,e=J.length,m,f=0,h=[];for(a=0;a<e;a++){var k=a+d;Ya&&f++;var g=
J[a];var l=g.type;if(Pb){g.origclasses||(g.origclasses="hap-playlist-item");var p=c('<div class="'+g.origclasses+'"/>').attr("data-type",l);delete g.origclasses;if(Ya){t?t.after(p):ub?p.appendTo(y):y.children("div").eq(da).before(p);var t=p}else p.appendTo(y);var q=c('<div class="hap-playlist-item-content"/>').appendTo(p);if(-1!=Ea.indexOf("thumb")&&(m=g.thumb||g.thumbDefault)){La&&!HAPUtils.relativePath(m)&&(m=La+m);var n=new Image;n.className="hap-thumbimg";n.src=m;m=g.alt?g.alt:g.title?g.title.replace(/"/g,
"'"):"image";n.alt=m;c('<span class="hap-playlist-thumb"></span>').append(n).appendTo(q)}if(-1!=Ea.indexOf("title")&&g.title||-1!=Ea.indexOf("description")&&g.description){n=c('<span class="hap-playlist-info">').appendTo(q);if(-1!=Ea.indexOf("title")&&g.title){m=Ad(g);var u=b.multilineTitle?" hap-title-multiline":"";Sc?c('<span class="hap-playlist-title-wrap"><span class="hap-playlist-title'+u+'">'+m+"</span></span>").appendTo(n):c('<span class="hap-playlist-title'+u+'">'+m+"</span>").appendTo(n)}-1!=
Ea.indexOf("description")&&g.description&&(m=g.description,b.limitDescriptionText&&(m=m.substr(0,b.limitDescriptionText)+"..."),c('<span class="hap-playlist-description">'+m+"</span>").appendTo(n))}if(-1!=Ea.indexOf("duration")&&g.duration||-1!=Ea.indexOf("date")&&g.date)n=c('<span class="hap-playlist-info2">').appendTo(q),-1!=Ea.indexOf("duration")&&g.duration&&(m=isNaN(g.duration)?-1==g.duration.lastIndexOf(":")?HAPUtils.formatTime(g.duration):g.duration:HAPUtils.formatTime(g.duration),c('<span class="hap-playlist-duration">'+
m+"</span>").appendTo(n)),-1!=Ea.indexOf("date")&&g.date&&(m=(new Date(g.date)).toDateString().slice(4,10),c('<span class="hap-playlist-date">'+m+"</span>").appendTo(n));"undefined"!==g.mediaId&&p.attr("data-media-id",g.mediaId);g.title&&p.attr("title",g.title);g.artist&&p.attr("data-artist",g.artist);g.description&&p.attr("data-description",g.description);mb&&mc.length?(n=c('<div class="hap-stats"></div>'),q.after(n),-1!=mc.indexOf("plays")&&(m=c('<div class="hap-play-count" data-tooltip="'+b.tooltipStatPlays+
'">'+fe+"<span>0</span></div>"),n.append(m)),-1!=mc.indexOf("likes")&&(m=c('<div class="hap-like-count" data-tooltip="'+b.tooltipStatLikes+'">'+ge+"<span>0</span></div>"),n.append(m)),-1!=mc.indexOf("downloads")&&(m=Bd&&void 0!=g.download?c('<a href="'+g.download+'" class="hap-download-count" download aria-label="'+b.tooltipStatDownloads+'" data-tooltip="'+b.tooltipStatDownloads+'">'+Cd+"<span>0</span></a>"):c('<div class="hap-download-count hap-no-download" data-tooltip="'+b.tooltipStatDownloads+
'">'+Cd+"<span>0</span></div>"),n.append(m))):Bd&&g.download&&(n=c('<a class="hap-download" href="'+g.download+'" download title="'+he+'" aria-label="'+b.downloadIconTitle+'">'+ie+"</a>"),q.after(n));g.link&&(m=c('<a class="hap-link" href="'+g.link+'" target="'+(g.target||"_blank")+'" aria-label="link">'+je+"</a>"),q.after(m));g.customContent&&(p.append(g.customContent),delete g.customContent);q.on("click",fa);if(!jb)q.on("mouseenter",Ha).on("mouseleave",Pa)}rb?h.push({id:a,type:l,data:g}):H.splice(k,
0,{id:k,type:l,data:g})}rb?(ec[Da].data=h,Dd?Qb(!1,!0):(H=h,Qb(!0,!0),E.setPlaylistItems(w)),Tc(),f=Rc[0],f.style.height=f.scrollHeight+"px",Uc=!1,Dd=!0):(Ta=y,Qb(!0,!0),console.log("playlistDataArr = ",H),Ya?(k=E.getCounter(),E.setPlaylistItems(w,!1),da<=k&&(ub||E.reSetCounter(k+f)),lb?(lb=!1,Rb&&!jb&&(ja=!0),E.setCounter(da,!1)):Rb&&E.setCounter(da,!1)):E.setPlaylistItems(w),Tc())}function Qb(a,b){a&&(w=H.length);if(Pb){var d=0,e,f,g=[],h;y.find(".hap-playlist-item").each(function(){e=c(this).attr("data-id",
d);mb&&b&&!e.hasClass("hap-stats-set")&&void 0!=e.attr("data-media-id")&&g.push({media_id:e.attr("data-media-id"),title:e.attr("title")||"",artist:e.attr("data-artist")||""});h=e.find(".hap-playlist-title");h.length&&Sc&&(f=HAPUtils.formatNumber(d)+ke,e.find(".hap-playlist-title-num").length?e.find(".hap-playlist-title-num").html(f):h.before(c('<span class="hap-playlist-title-num">'+f+"</span>")));a&&(H[d].id=d);d++});mb&&b&&g.length&&vb("hap_all_count",null,g)}else for(d=0;d<w;d++)H[d].id=d}function le(a){a.mCustomScrollbar({axis:"horizontal"==
Lc?"x":"y",theme:b.playlistScrollTheme,scrollInertia:0,mouseWheel:{normalizeDelta:!0,deltaFactor:50,preventDefault:!0},keyboard:{enable:!1},advanced:{autoExpandHorizontalScroll:!0},callbacks:{onOverflowYNone:function(){a.find(".mCSB_container").addClass("hap-mCSB_full")},onOverflowY:function(){a.find(".mCSB_container").removeClass("hap-mCSB_full")},onTotalScroll:function(){ra?P&&qa&&!R&&(R=!0,ya.show(),ta=!0,J=[],U&&U.css("opacity",0),"soundcloud"==qa?zd():"folder"==qa?yd():"youtube"==qa&&(Wa||Oc("youtube"),
Wa.resumeLoad(P))):Za&&(ta||Vc())}}})}function Tc(){ya.hide();R=!1;if(!p){p=!0;Mb&&!nc&&(le(kb),nc=!0);if(y.find(".hap-playlist-options").length){z=y.find(".hap-playlist-options");void 0!=z.attr("data-add-more-num-results")&&void 0!=z.attr("data-add-more-limit")&&void 0!=z.attr("data-add-more-offset")&&void 0!=z.attr("data-add-more-sort-order")&&(oc=parseInt(z.attr("data-add-more-limit"),10),pc=parseInt(z.attr("data-add-more-num-results"),10),wb=parseInt(z.attr("data-add-more-offset"),10),Wc=z.attr("data-add-more-sort-order"),
Xc=z.attr("data-encrypt-media-paths"));void 0==z.attr("data-thumb-global")||HAPUtils.isEmpty(z.attr("data-thumb-global"))||(Sb=z.attr("data-thumb-global"));void 0==z.attr("data-start")||HAPUtils.isEmpty(z.attr("data-start"))||(qc=Number(z.attr("data-start")));void 0==z.attr("data-end")||HAPUtils.isEmpty(z.attr("data-end"))||(rc=Number(z.attr("data-end")));if(void 0!=z.attr("data-playback-rate")&&!HAPUtils.isEmpty(z.attr("data-playback-rate"))){var a=Number(z.attr("data-playback-rate"));xb=HAPUtils.valueLimit(a,
b.playbackRateMin,b.playbackRateMax)}void 0!=z.attr("data-add-more-on-total-scroll")&&(Za=!0);void 0!=z.attr("data-media-prefix-url")&&(La=z.attr("data-media-prefix-url"));void 0!=z.attr("data-ad-pre")&&(yb=z.attr("data-ad-pre").split(",").map(function(a){return a.trim()}),void 0!=z.attr("data-shuffle-ads")&&1<yb.length&&HAPUtils.shuffleArray(yb));void 0!=z.attr("data-ad-mid")&&(zb=z.attr("data-ad-mid").split(",").map(function(a){return a.trim()}),void 0!=z.attr("data-shuffle-ads")&&1<zb.length&&
HAPUtils.shuffleArray(zb),void 0!=z.attr("data-ad-mid-interval")&&(sc=z.attr("data-ad-mid-interval")));void 0!=z.attr("data-ad-end")&&(Ab=z.attr("data-ad-end").split(",").map(function(a){return a.trim()}),void 0!=z.attr("data-shuffle-ads")&&1<Ab.length&&HAPUtils.shuffleArray(Ab))}setTimeout(function(){clearTimeout(this);Ed();k.css("opacity",1)},50);O(b.volume);c(g).trigger("setupDone",{instance:g,instanceName:K});rb&&(Bb=k.find(".hap-accordion-item").eq(Da),k.find(".hap-accordion-item-title").on("click",
function(){var a=c(this).closest(".hap-accordion-item");if(a.hasClass("hap-accordion-item-opened")){a.removeClass("hap-accordion-item-opened");var b=a.find(".hap-accordion-item-content")[0];b.style.height="0"}else{me&&Bb&&Bb!=a&&(Bb.removeClass("hap-accordion-item-opened"),b=Bb.find(".hap-accordion-item-content")[0],b.style.height="0");if(a.hasClass("hap-accordion-item-inited"))b=a.find(".hap-accordion-item-content")[0],b.style.height=b.scrollHeight+"px";else{if(Uc)return!1;Uc=!0;ya.show();Da=a.attr("data-id");
y=Rc=a.addClass("hap-accordion-item-inited").find(".hap-accordion-item-content");J=ec[Da].media;wd?(Xa=-1,ba=J.length-1,jc()):Va()}Bb=a.addClass("hap-accordion-item-opened")}}))}if(Pb&&0<w){var d=[];y.find(".hap-thumbimg:not(.hap-visible)").each(function(){d.push(c(this))});var e=0;a=d.length;var f;for(f=0;f<a;f++)setTimeout(function(){clearTimeout(this);d[e].addClass("hap-visible");e++},50+50*f);HAPUtils.isEmpty(pa)||g.sort(pa)}!Yc&&!Ya&&!ta&&0<w&&(a=b.activeItem,a>w-1&&(a=w-1),-1<a&&E.setCounter(a,
!1),Yc=!0);ta=Ya=!1;U&&(ra?P?U.css("opacity",1):(U.remove(),U=null,ra=!1):Za?0<pc?pc>wb?U.css("opacity",1):(U.remove(),U=null,Za=!1):(U.remove(),U=null):(U.remove(),U=null));c(g).trigger("playlistEndLoad",{instance:g,instanceName:K});-1<Y.indexOf("hap-wall")&&(tc?y.masonry("reloadItems"):("undefined"===typeof c.fn.masonry&&alert("Link to masonry.pkgd.min.js file missing in head tag!"),"function"!==typeof imagesLoaded&&alert("Link to imagesloaded.pkgd.min file missing in head tag!"),tc=y.masonry({itemSelector:".hap-playlist-item",
columnWidth:".hap-grid-sizer"})),y.imagesLoaded(function(){tc.masonry("layout")}),y.find(".hap-playlist-item-content").each(function(){var a=c(this);0==a.find(".hap-wall-preview").length&&a.find(".hap-playlist-thumb").after(c('<div class="hap-wall-preview"></div>'));0==a.find(".hap-wall-overlay").length&&a.find(".hap-playlist-thumb").after(c('<div class="hap-wall-overlay"></div>'))}))}function Fd(){Ma=new Hls;Zc=Hls.isSupported();Gd=!0;Ma.on(Hls.Events.MEDIA_ATTACHED,function(){Ma.loadSource(G)});
Ma.on(Hls.Events.ERROR,function(a,b){if(b.fatal)switch(b.type){case Hls.ErrorTypes.NETWORK_ERROR:console.log("fatal network error encountered, try to recover");Ma.startLoad();break;case Hls.ErrorTypes.MEDIA_ERROR:console.log("fatal media error encountered, try to recover");Ma.recoverMediaError();break;default:Ma.destroy()}})}function Tb(){if("hls"==h){if(G=f.path,!Gd){if("undefined"===typeof Hls){var a=document.createElement("script");a.type="text/javascript";a.src="https://cdn.jsdelivr.net/npm/hls.js@latest";
a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(Fd(),Tb())};a.onerror=function(){alert("Error loading "+this.src)};var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(a,d)}else Fd(),Tb();return}}else if("shoutcast"==h||"icecast"==h||"radiojar"==h)G=ne?b.cors+f.path:f.path,f.mountpoint&&(G+=f.mountpoint),"shoutcast"==h&&"/;"!=G.substring(G.length-2)&&(G+="/;"),Ub||("undefined"===typeof HAPRadioData&&alert("link to radio.js file missing in head tag!"),
Ub=new HAPRadioData(b,ia),c(Ub).on("HAPRadioData.DATA_READY",function(a,b){b.title&&(f.title=b.title);b.artist&&(f.artist=b.artist);b.thumb&&(f.thumb=b.thumb);$c()})),Ub.getData(f);else for(a=0;a<Hd.length;a++)if(d=Hd[a],"mp3"==d){if(oe&&f.mp3){G=f.mp3;break}}else if("aac"==d){if(pe&&f.aac){G=f.aac;break}}else if("wav"==d&&qe&&f.wav){G=f.wav;break}if(G){-1!=G.indexOf("ebsfm:")&&(G=atob(G.substr(6)));"audio"==h&&La&&!HAPUtils.relativePath(G)&&(G=La+G);uc.on("ended",function(){x&&x.isAdEndOn()||(db&&
wa&&!ka&&!Zb.isDrag()?(ka=!0,l.currentTime=la,l.play()):Ec())}).on("canplay",function(a){}).on("canplaythrough",function(a){}).on("loadedmetadata",function(){void 0==f.playbackRate&&(f.playbackRate=1);l.playbackRate=f.playbackRate;eb&&eb.setVisual(f.playbackRate);"audio"==h&&(b.resumeTime?(l.currentTime=b.resumeTime,delete b.resumeTime):f.start&&(l.currentTime=f.start));var a=l.duration;HAPUtils.isNumber(a)&&za.html(HAPUtils.formatTime(a))}).on("play",function(){vc&&Gc()}).on("pause",function(){rd()}).on("seeked",
function(){db&&wa&&setTimeout(function(){clearTimeout(this);ka=!1},500)}).on("error",function(a){c(g).trigger("soundError",{instance:g,instanceName:K,counter:nb,error:a})});if("hls"==h){if("file:"==window.location.protocol)return alert("Playing HLS requires server connection!"),!1;if(Zc)Ma.attachMedia(l);else if(l.canPlayType("application/vnd.apple.mpegurl"))l.src=G;else if(f.mp3)l.src=f.mp3;else{alert("This browser or device does not support HLS extension. Please use mp3 audio for playback!");return}ja&&
(a=l.play(),void 0!==a&&a.then(function(){})["catch"](function(a){}))}else l.src=G,ja&&(a=l.play(),void 0!==a&&a.then(function(){})["catch"](function(a){}));l.volume=F;ja=!0;"shoutcast"!=h&&"icecast"!=h&&"radiojar"!=h&&(Qa&&clearInterval(Qa),Qa=setInterval(pd,qd))}else alert("No required audio format supplied! Please add mp3 audio format to play!")}function pd(){if(!(fb||re&&x&&x.isAdOn())){if("youtube"==h){if(u){var a=u.getCurrentTime(),b=u.getDuration();var c=u.getVideoLoadedFraction()}}else if("audio"==
h&&l&&(a=l.currentTime,b=l.duration,HAPUtils.isNumber(a)&&HAPUtils.isNumber(b)&&"undefined"!==typeof l.buffered&&0!=l.buffered.length)){try{var e=l.buffered.end(l.buffered.length-1)}catch(r){}isNaN(e)||(c=e/b)}HAPUtils.isNumber(a)&&HAPUtils.isNumber(b)&&(!vc&&0<a&&(vc=!0,Gc()),Fb?ac.drawSeekbar(c,a,b):(na.width(a/b*M),c&&Id.width(c*M)),Fa.html(HAPUtils.formatTime(a)),za.html(HAPUtils.formatTime(b)),!fb&&f.end&&a>=f.end?Ec():db&&wa&&!ka&&!Zb.isDrag()&&(parseInt(a,10)<parseInt(la,10)||a>Na)&&(ka=!0,
g.seek(la)))}}function Gc(){bc||(bc=!0,M=Gb.width(),c(g).trigger("soundStart",{instance:g,instanceName:K,data:f,audio:l}),Vb&&"undefined"!==typeof ga&&ga("send",{hitType:"event",eventCategory:"Modern audio player: "+K,eventAction:"started",eventLabel:"title: "+wc,nonInteraction:!0}),f.adMid&&x.adMidStartHandler());f.adMid&&x.adMidPlayHandler();if(b.togglePlaybackOnMultipleInstances&&1<hap_mediaArr.length){var a,d=hap_mediaArr.length;for(a=0;a<d;a++)g!=hap_mediaArr[a].inst&&hap_mediaArr[a].inst.pauseMedia()}ea.find(".hap-btn-play").hide();
ea.find(".hap-btn-pause").show();$a=!0;c(g).trigger("soundPlay",{instance:g,instanceName:K,data:f,audio:l});Vb&&"undefined"!==typeof ga&&ga("send",{hitType:"event",eventCategory:"Modern audio player: "+K,eventAction:"played",eventLabel:"title: "+wc+" | t: "+Math.round(g.getCurrentTime()),nonInteraction:!0})}function rd(){ea.find(".hap-btn-play").show();ea.find(".hap-btn-pause").hide();$a=!1;c(g).trigger("soundPause",{instance:g,instanceName:K,data:f,audio:l});Vb&&"undefined"!==typeof ga&&ga("send",
{hitType:"event",eventCategory:"Modern audio player: "+K,eventAction:"paused",eventLabel:"title: "+wc+" | t: "+Math.round(g.getCurrentTime()),nonInteraction:!0})}function Ec(){x&&x.clearAdMidTimeout();c(g).trigger("soundEnd",{instance:g,instanceName:K,data:f,audio:l});mb&&L&&vb("hap_finish_count",L);Vb&&"undefined"!==typeof ga&&ga("send",{hitType:"event",eventCategory:"Modern audio player: "+K,eventAction:"ended",eventLabel:"title: "+wc,nonInteraction:!0});f.adEnd?x.setAdEnd():Jd()}function Jd(a){console.log("audioEndedAction");
var b=f.start||0;"single"==Z?(Ib(),"youtube"==h?u&&(u.seekTo(b),u.playVideo()):(a&&(l.src=G),l.currentTime=b,l.play())):"off"!=Z&&"playlist"!=Z||g.nextMedia()}function Wb(){Qa&&clearInterval(Qa);x&&(x.cleanAds(),na.removeClass("hap-ad-progress-level"),ab.hide());"shoutcast"==h||"icecast"==h||"radiojar"==h?Ub.destroy():"hls"==h?Zc&&Ma.detachMedia():"youtube"==h&&u&&($b=!0,cb.hide(),X&&u.stopVideo(),Fc=!1);l&&(l.pause(),l.src="");uc&&uc.off("ended canplay canplaythrough loadedmetadata pause play error timeupdate seeked");
Fa.html("00:00");za.html("00:00");Kd.html("");Ld.html("");na.width(0);Id.width(0);h=null;Rb=bc=$a=!1;db&&g.resetRange();ea.find(".hap-btn-play").show();ea.find(".hap-btn-pause").hide();vc=!1;xc&&ob&&ob.deactivate()}function hc(){"undefined"!==typeof c.fn.masonry&&tc&&y.masonry("destroy");h&&(Wb(),L&&Ia());y.empty();Ta=null;Yc=lb=Ya=!1;w=0;Ua=-1;H=[];J=[];N=[];E.reSetCounter();Ab=sc=zb=yb=xb=rc=qc=Sb=z=null;Za=!1;La=null;ia.css("backgroundImage","none").css("opacity",0);ta=!1;qa=P=null;ra=!1;Xc=Wc=
wb=pc=oc=null;pa="";Ka.find(".hap-btn-sort-alpha-up").hide();Ka.find(".hap-btn-sort-alpha-down").show();se.val("");ad.hide();c(g).trigger("destroyPlaylist",{instance:g,instanceName:K})}function Ib(){bd&&cd&&(H[nb].data.start=g.getCurrentTime());mb&&L&&vb("hap_play_count",L)}function Ed(){M=Gb.width();x&&x.setSeekBarSize(M);xc&&ob&&ob.checkSize();if(db&&"undefined"!==typeof la&&"undefined"!==typeof Na){var a=g.getDuration();"undefined"!==typeof a&&(ua&&ua.css("left",la/a*M+"px"),Aa&&Aa.css("left",
Na/a*M+"px"))}t.hide()}function Ad(a){if(a.artist&&!HAPUtils.isEmpty(a.artist)&&a.title&&!HAPUtils.isEmpty(a.title))var b=a.artist+te+a.title;else a.title&&!HAPUtils.isEmpty(a.title)?b=a.title:a.artist&&!HAPUtils.isEmpty(a.artist)&&(b=a.artist);return b}function $c(){f.title&&Kd.html(f.title);f.artist&&Ld.html(f.artist);f.description&&k.find(".hap-player-desc").html(f.description);xc&&ob&&ob.input(Ad(f));if((!dd||!Sb)&&ia.length){var a=f.thumb||f.thumbDefault;a&&Md(a)}}function Md(a){La&&!HAPUtils.relativePath(a)&&
(a=La+a);"soundcloud"==f.origtype&&b.soundCloudThumbQuality&&(a=a.replace("large.jpg",b.soundCloudThumbQuality));a=encodeURI(a);f.title?ia.attr("aria-label",f.title):ia.attr("aria-label","");dd?(ia.css("opacity",0),setTimeout(function(){ia.css("backgroundImage","url("+a+")").css("opacity",1)},300)):ia.css("backgroundImage","url("+a+")").css("opacity",1);dd=!0;-1<Y.indexOf("hap-metalic")?k.find(".hap-player-image").fadeOut(300,function(){c(this).css("backgroundImage","url("+a+")").fadeIn(300)}):-1<
Y.indexOf("hap-poster")&&k.find(".hap-player-image").fadeOut(300,function(){c(this).css("backgroundImage","url("+a+")").fadeIn(300)})}function ue(){var a=f.title||"";a="https://itunes.apple.com/search?type=jsonp&term=="+encodeURI(f.artist||"")+"-"+encodeURI(a)+"&media=music&limit=1";c.ajax({url:a,dataType:"jsonp"}).done(function(a){if(a.results[0]&&a.results[0].artworkUrl100){var c=ia.width();c=HAPUtils.closestNumber(b.artworkSize,c);a=a.results[0].artworkUrl100.replace("100x100",c+"x"+c);H[nb].data.thumb=
a;Md(a)}}).fail(function(a,b,c){console.log(a,b,c)})}function vb(a,d,e){if("file:"!=window.location.protocol){if("hap_all_count"==a)var f=[{name:"action",value:a},{name:"data",value:JSON.stringify(e)}];else if("hap_play_count"==a)e=d.attr("data-id"),e=H[e].data,f=[{name:"action",value:a},{name:"playlist_id",value:sb},{name:"media_id",value:d.attr("data-media-id")},{name:"title",value:e.title||""},{name:"artist",value:e.artist||""},{name:"currentTime",value:l.currentTime},{name:"duration",value:l.duration}];
else if("hap_download_count"==a||"hap_like_count"==a||"hap_finish_count"==a)e=d.attr("data-id"),e=H[e].data,f=[{name:"action",value:a},{name:"playlist_id",value:sb},{name:"media_id",value:d.attr("data-media-id")},{name:"title",value:e.title||""},{name:"artist",value:e.artist||""}];c.ajax({url:b.ajax_url,type:"post",data:f,dataType:"json"}).done(function(b){if(b)if("hap_like_count"==a&&b.c_like)d.find(".hap-like-count span").html(HAPUtils.nFormatter(parseInt(b.c_like,10),1));else if("hap_download_count"==
a&&b.c_download)d.find(".hap-download-count span").html(HAPUtils.nFormatter(parseInt(b.c_download,10),1));else if("hap_play_count"==a&&b.c_play)d.find(".hap-play-count span").html(HAPUtils.nFormatter(parseInt(b.c_play,10),1));else if("hap_all_count"==a){var c,e=b.length,f;for(c=0;c<e;c++){var g=b[c];g.title&&g.artist?f=y.find('.hap-playlist-item[data-media-id="'+g.media_id+'"][title="'+g.title+'"][data-artist="'+g.artist+'"]').addClass("hap-stats-set"):g.title?f=y.find('.hap-playlist-item[data-media-id="'+
g.media_id+'"][title="'+g.title+'"]').addClass("hap-stats-set"):g.artist&&(f=y.find('.hap-playlist-item[data-media-id="'+g.media_id+'"][data-artist="'+g.artist+'"]').addClass("hap-stats-set"));f.find(".hap-like-count span").html(HAPUtils.nFormatter(parseInt(g.c_like,10),1));f.find(".hap-download-count span").html(HAPUtils.nFormatter(parseInt(g.c_download,10),1));f.find(".hap-play-count span").html(HAPUtils.nFormatter(parseInt(g.c_play,10),1))}}}).fail(function(a,b,c){console.log("Error getStats: "+
a.responseText,b,c)})}}function Vc(){ya.show();ta=!0;U&&U.css("opacity",0);c.ajax({url:b.ajax_url,type:"post",data:[{name:"action",value:"hap_add_more"},{name:"playlist_id",value:sb},{name:"addMoreOffset",value:wb},{name:"addMoreLimit",value:oc},{name:"addMoreSortOrder",value:Wc},{name:"encryptMediaPaths",value:Xc}],dataType:"json"}).done(function(a){z&&void 0!=z.attr("data-add-more-offset")&&(wb=parseInt(z.attr("data-add-more-offset"),10)+oc,z.attr("data-add-more-offset",wb));g.addTrack(a)}).fail(function(a,
b,c){console.log(a,b,c);g.endLoadMore()})}b=c.extend(!0,{},{sourcePath:"",playlistItemContent:"",statisticsContent:"plays,likes,downloads",audioFormatOrder:"aac,wav,mp3",dataInterval:250,volume:.5,activeItem:0,numberTitleSeparator:".&nbsp;",artistTitleSeparator:"&nbsp;-&nbsp;",useNumbersInPlaylist:!1,preload:"auto",autoPlay:!1,loopState:"playlist",randomPlay:!1,facebookAppId:"",usePlaylistScroll:!1,useKeyboardNavigationForPlayback:!1,togglePlaybackOnMultipleInstances:!0,useTitleScroll:!1,titleScrollSpeed:1,
titleScrollSeparator:" *** ",continousKey:"hap-continous-key",useMediaSession:!0,createDownloadIconsInPlaylist:!1,createLinkIconsInPlaylist:!1,downloadIconTitle:"Download",tooltipStatPlays:"Plays",tooltipStatLikes:"Likes",tooltipStatDownloads:"Downloads",artworkSize:[100,200,250,340,460,600],soundCloudThumbQuality:"t300x300.jpg",playbackRateMin:.5,playbackRateMax:2,sortOrder:"",searchDescriptionInPlaylist:!0,hideYoutubeAfterStart:!1,getRadioArtwork:!0,defaultSongArtist:"DATA NOT AVAILABLE",defaultSongTitle:"DATA NOT AVAILABLE",
lastPlayedInterval:1E4,cors:"https://kastproxy-us.herokuapp.com/,https://kastproxy-eu.herokuapp.com/,https://cors-anywhere.herokuapp.com/,https://cors.io/?",useCorsForAudio:!1,whatsAppWarning:"Please share this content on mobile device!",downloadIcon:"<svg viewBox='0 0 512 512'><path d='M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z'></path></svg>",
linkIcon:"<svg viewBox='0 0 576 512'><path d='M504.717 320H211.572l6.545 32h268.418c15.401 0 26.816 14.301 23.403 29.319l-5.517 24.276C523.112 414.668 536 433.828 536 456c0 31.202-25.519 56.444-56.824 55.994-29.823-.429-54.35-24.631-55.155-54.447-.44-16.287 6.085-31.049 16.803-41.548H231.176C241.553 426.165 248 440.326 248 456c0 31.813-26.528 57.431-58.67 55.938-28.54-1.325-51.751-24.385-53.251-52.917-1.158-22.034 10.436-41.455 28.051-51.586L93.883 64H24C10.745 64 0 53.255 0 40V24C0 10.745 10.745 0 24 0h102.529c11.401 0 21.228 8.021 23.513 19.19L159.208 64H551.99c15.401 0 26.816 14.301 23.403 29.319l-47.273 208C525.637 312.246 515.923 320 504.717 320zM408 168h-48v-40c0-8.837-7.163-16-16-16h-16c-8.837 0-16 7.163-16 16v40h-48c-8.837 0-16 7.163-16 16v16c0 8.837 7.163 16 16 16h48v40c0 8.837 7.163 16 16 16h16c8.837 0 16-7.163 16-16v-40h48c8.837 0 16-7.163 16-16v-16c0-8.837-7.163-16-16-16z'></path></svg>",
statDownloadIcon:"<svg viewBox='0 0 512 512'><path d='M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zM212 140v116h-70.9c-10.7 0-16.1 13-8.5 20.5l114.9 114.3c4.7 4.7 12.2 4.7 16.9 0l114.9-114.3c7.6-7.6 2.2-20.5-8.5-20.5H300V140c0-6.6-5.4-12-12-12h-64c-6.6 0-12 5.4-12 12z'></path></svg>",statLikeIcon:"<svg viewBox='0 0 512 512'><path d='M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z'></path></svg>",
statPlayIcon:"<svg viewBox='0 0 512 512'><path d='M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z'></path></svg>"},b);var k=c(this),Y="";void 0!=k.attr("class")&&(Y=k.attr("class").split(/\s+/),-1<Y.indexOf("hap-fixed")&&k.appendTo(c("body")));b.markup&&k.append(b.markup);var Mc=c(b.playlistList),Oa=k.find(".hap-playlist-holder"),kb=k.find(".hap-playlist-inner"),y=k.find(".hap-playlist-content"),
ad=k.find(".hap-playlist-filter-msg"),Ka=k.find(".hap-sort-alpha"),ve=k.find(".hap-popup-toggle"),Gb=k.find(".hap-progress-bg"),Id=k.find(".hap-load-level"),na=k.find(".hap-progress-level"),qb=k.find(".hap-volume-toggle"),oa=k.find(".hap-volume-seekbar"),Ra=k.find(".hap-volume-bg"),Zd=k.find(".hap-volume-level"),yc=k.find(".hap-player-holder"),ia=k.find(".hap-player-thumb").attr("role","img"),Jc=k.find(".hap-share-holder"),Kc=k.find(".hap-playback-rate-holder"),Kd=k.find(".hap-player-title"),Ld=k.find(".hap-player-artist"),
Fa=k.find(".hap-media-time-current"),za=k.find(".hap-media-time-total"),ab=k.find(".hap-media-time-ad"),ea=k.find(".hap-playback-toggle"),hb=k.find(".hap-loop-toggle"),Ca=k.find(".hap-random-toggle"),Cb=k.find(".hap-range-toggle"),fc=k.find(".hap-playback-rate-toggle"),gc=k.find(".hap-share-toggle"),ya=k.find(".hap-preloader"),jb=HAPUtils.isMobile(),Nd=HAPUtils.hasLocalStorage(),Pc=b.sourcePath,K=b.instanceName,we=b.preload,ja=b.autoPlay,Z=b.loopState,Ba=b.randomPlay,Sc=b.useNumbersInPlaylist,Mb=
b.usePlaylistScroll,Lc=b.playlistScrollOrientation,kc=b.soundCloudAppId,xd=b.gDriveAppId,F=b.volume,xe=b.useKeyboardNavigationForPlayback,Ea=b.playlistItemContent.replace(/\s+/g,"").split(","),mc=b.statisticsContent.replace(/\s+/g,"").split(","),bd=b.useContinousPlayback&&Nd,cd=bd&&b.continousPlaybackTrackAllSongs,Xb=b.continousKey,ed=b.useMediaSession&&"mediaSession"in navigator&&"file:"!=window.location.protocol,ke=b.numberTitleSeparator,te=b.artistTitleSeparator,he=b.downloadIconTitle,xc=b.useTitleScroll,
mb=b.useStatistics,Vb=b.useGa&&b.gaTrackingId,ie=b.downloadIcon,je=b.linkIcon,Cd=b.statDownloadIcon,ge=b.statLikeIcon,fe=b.statPlayIcon,va=b.playlistOpened,pa=b.sortOrder,Od=b.searchDescriptionInPlaylist,Yd=b.hideYoutubeAfterStart,Hd=b.audioFormatOrder.split(",").map(function(a){return a.trim()}),Nb=b.createDownloadIconsInPlaylist,Ob=b.createLinkIconsInPlaylist,ne=b.useCorsForAudio,cc=b.disableSongSkip,re=b.pauseAudioDuringAds,ye=b.fetchPlayerArtwork&&ia.length,me=b.allowOnlyOneOpenedAccordion;b.playlistElement&&
(y=c(b.playlistElement));var fd=HAPUtils.getUrlParameter(),Yb=[],gd=[];Object.keys(fd).forEach(function(a){if(0==a.indexOf("hap-")){var c=a.substr(4).replace(/-([a-z])/g,function(a){return a[1].toUpperCase()});if(a=decodeURIComponent(fd[a]).replace(/\+/g," "))b.hasOwnProperty(c)?b[c]=a:(a=a.split(",").map(function(a){return a.trim()}),Yb.push({key:c,value:a}))}});if(Yb.length){var bb,zc,hd=Yb.length,ze=Yb[0].value.length;for(zc=0;zc<ze;zc++){var Pd={};for(bb=0;bb<hd;bb++){var Qd=Yb[bb];Pd[Qd.key]=
Qd.value[zc]}gd.push(Pd)}}fd=null;var g=this,p;c("body");var pb=c(window),Ja=c(document),id,Bd=HAPUtils.hasDownloadSupport(),Jb=HAPUtils.isIOS();HAPUtils.isAndroid();var oe=HAPUtils.canPlayMp3(),qe=HAPUtils.canPlayWav(),pe=HAPUtils.canPlayAac();HAPUtils.isChrome();HAPUtils.isSafari();HAPUtils.volumeCanBeSet();var ee=Pc+"includes/ba-simple-proxy.php",Lb=["playlist","single","off"],ib=Lb.indexOf(Z),Rd=["audio","hls","shoutcast","icecast","radiojar"],La,tc,ba,Xa,uc=c(document.createElement("audio")).attr("preload",
we),l=uc[0],vc,Za,oc,pc,wb,Xc,Wc,P,ta,qa,ra,Qc,Nc,aa,sa=[],Ma,Zc,Gd,Ub,x,Kb,Wa,cb,u,md,X,Fc,$b,od,nd,Sd,nc,Ic,Pb=!0,dd,Sb,qc,rc,xb,yb,zb,sc,Ab,ub,da,Ya,Rb,lb,Ua=-1,H=[],J=[],N=[],z,w=0,Yc,Ta,L,bc,h,wc,G,nb,$a=!1,f,qd=b.dataInterval,Qa,fb,M,ca=HAPUtils.getEvents(),sb,Bb,Uc,rb,Rc,Dd,Da,dc,ec=[],wd;rb&&(Pb=!0);-1==Ea.indexOf("description")&&(Od=!1);"undefined"===typeof window.hap_mediaArr&&(window.hap_mediaArr=[]);window.hap_mediaArr.push({inst:g,id:K});jb&&(ja=!1);-1==ib&&(Z="off");ib=Lb.indexOf(Z);
hb.find(".hap-btn-loop-"+Z).show();Ba?Ca.find(".hap-btn-random-on").show():Ca.find(".hap-btn-random-off").show();0==y.length&&(y=c('<div style="display:none;"></div>'),Sc=Mb=Pb=!1);qb.find(".hap-btn-volume-up").show();Ka.find(".hap-btn-sort-alpha-down").show();ea.find(".hap-btn-play").show();var U=k.find(".hap-load-more-btn").on("click",function(){if(!p||ta)return!1;ra?g.loadMore():Za&&Vc();U.css("opacity",0)}),ob;xc&&("undefined"===typeof HAPTextScroller?alert("link to textscroller.js file missing in head tag"):
ob=new HAPTextScroller({settings:b,mask:k.find(".hap-media-title-mask"),container:k.find(".hap-media-title")}));var se=k.find(".hap-search-filter").on("keyup.apfilter",function(){if(0==w)return!1;var a=c(this).val().toLowerCase(),b,e=0;for(b=0;b<w;b++){var f=y.children(".hap-playlist-item").eq(b);var g=f.find(".hap-playlist-title").html().toLowerCase();Od&&f.find(".hap-playlist-description").length&&(g+=f.find(".hap-playlist-description").html().toLowerCase());-1<g.indexOf(a)?f.show():(f.hide(),e++)}e==
w?ad.show():ad.hide()});if(!sd){"undefined"===typeof HAPShareManager&&alert("link to sharemanager.js file missing in head tag!");var sd=new HAPShareManager(b)}var E=new HAPPlaylistManager({loop:Z,random:Ba});c(E).on("HAPPlaylistManager.COUNTER_READY",function(a,d){h&&Wb();nb=d;f=H[nb].data;h=f.type;Sb&&(f.thumb=Sb);xb&&(f.playbackRate=xb);qc&&(f.start=qc);rc&&(f.end=rc);yb&&!f.adPre&&(f.adPre=yb);zb&&!f.adMid&&(f.adMid=zb);sc&&(f.adMidInterval=sc);Ab&&!f.adEnd&&(f.adEnd=Ab);"shoutcast"==h||"icecast"==
h||"radiojar"==h?(Cb.hide(),xa.hide(),Fa.hide(),za.hide()):(Cb.show(),xa.show(),Fa.show(),za.show(),$c(),ed&&C());if(cd&&b.lastPositionArr){var v,m=b.lastPositionArr.length;for(v=0;v<m;v++){var k=b.lastPositionArr[v];if(k.title&&f.title==k.title&&f.artist==k.artist){f.start=k.start;break}}}Vd(nb);f.thumb||f.thumbDefault||!ye||ue();if(f.adPre||f.adMid||f.adEnd)x?x.setAdData(f):("undefined"===typeof HAPAdManager&&alert("link to admanager.js file missing in head tag!"),x=new HAPAdManager(b,g,f,F,l,na,
ab,M),c(x).on("HAPAdManager.IOS_ADMID_FIX_START",function(a,b){Kb=!0}).on("HAPAdManager.ADPRE_PLAY",function(a,b){na.addClass("hap-ad-progress-level");Fa.hide();za.hide();ab.show()}).on("HAPAdManager.ADPRE_ENDED",function(a,b){na.removeClass("hap-ad-progress-level");ab.hide();"shoutcast"!=h&&"icecast"!=h&&"radiojar"!=h&&(Fa.show(),za.show());"youtube"==h?e():Tb()}).on("HAPAdManager.ADMID_PLAY",function(a,b){g.pauseMedia();na.addClass("hap-ad-progress-level");Fa.hide();za.hide();ab.show()}).on("HAPAdManager.ADMID_ENDED",
function(a,b){na.removeClass("hap-ad-progress-level");ab.hide();"shoutcast"!=h&&"icecast"!=h&&"radiojar"!=h&&(Fa.show(),za.show());g.playMedia()}).on("HAPAdManager.ADEND_PLAY",function(a,b){na.addClass("hap-ad-progress-level");Fa.hide();za.hide();ab.show()}).on("HAPAdManager.ADEND_ENDED",function(a,b){na.removeClass("hap-ad-progress-level");ab.hide();"shoutcast"!=h&&"icecast"!=h&&"radiojar"!=h&&(Fa.show(),za.hide());Jd(!0)}));f.adPre?(x.initAdPre(),ja=!0,l.volume=F,v=l.play(),void 0!==v&&v.then(function(){ea.find(".hap-btn-play").hide();
ea.find(".hap-btn-pause").show()})["catch"](function(a){})):"youtube"==h?e():Tb()}).on("HAPPlaylistManager.PLAYLIST_END",function(){c(g).trigger("playlistEnd",{instance:g,instanceName:K})});window.onYouTubeIframeAPIReady=function(){};Vb&&(window.ga||function(a,b,c,e,f,g,h){a.GoogleAnalyticsObject=f;a[f]=a[f]||function(){(a[f].q=a[f].q||[]).push(arguments)};a[f].l=1*new Date;g=b.createElement(c);h=b.getElementsByTagName(c)[0];g.async=1;g.src=e;h.parentNode.insertBefore(g,h)}(window,document,"script",
"https://www.google-analytics.com/analytics.js","ga"),ga("create",b.gaTrackingId,"auto"),ga("send","pageview"),k.on("click",".hap-download",function(a){if(!p)return!1;window.ga&&(a=c(this).closest(".hap-playlist-item").find(".hap-playlist-title").html(),ga("send",{hitType:"event",eventCategory:"Modern audio player: "+K,eventAction:"downloaded",eventLabel:"title: "+a,nonInteraction:!0}))}));bd?(window.attachEvent||window.addEventListener)(Jb?"pagehide":"beforeunload",function(a){window.event&&(window.event.cancelBubble=
!0);if(!p||!h)return!1;a={activePlaylist:b.activePlaylist,volume:F,activeItem:E.getCounter(),resumeTime:g.getCurrentTime(),autoPlay:$a};if(cd){var c,e=[];for(c=0;c<w;c++){var f=H[c].data;f.start&&e.push({title:f.title,artist:f.artist,start:f.start})}a.lastPositionArr=e}localStorage.setItem(Xb,JSON.stringify(a))}):localStorage.removeItem(Xb);ed&&(navigator.mediaSession.setActionHandler("play",function(){g.playMedia()}),navigator.mediaSession.setActionHandler("pause",function(){g.pauseMedia()}),navigator.mediaSession.setActionHandler("previoustrack",
function(){g.previousMedia()}),navigator.mediaSession.setActionHandler("nexttrack",function(){g.nextMedia()}),navigator.mediaSession.setActionHandler("seekbackward",function(){g.seekBackward()}),navigator.mediaSession.setActionHandler("seekforward",function(){g.seekForward()}));var t=k.find(".hap-tooltip");jb||(t.length&&"static"==k.css("position")&&console.log("player css position is static, therefore tooltip might not work correctly. Please set wrapper css position to other than static if you use tooltip in player."),
k.on("mouseenter","[data-tooltip]",function(a){var b=c(this);a=k[0].getBoundingClientRect();var e=b[0].getBoundingClientRect();t.text(b.attr("data-tooltip"));var f=parseInt(e.top-a.top-t.outerHeight());b=parseInt(e.left-a.left-t.outerWidth()/2+b.outerWidth()/2);b+t.outerWidth()>k.width()?b=k.width()-t.outerWidth():0>b&&(b=0);0>f+a.top&&(f=parseInt(e.top-a.top+t.outerHeight()+15));t.css({left:b+"px",top:f+"px"}).show()}).on("mouseleave","[data-tooltip]",function(a){t.hide()}));var Fb=k.find(".hap-circle-player").length,
ac;Fb&&HAPUtils.hasCanvas()&&("undefined"===typeof HAPCirclePlayer?alert("Link to circleplayer.js file missing in head tag!"):ac=new HAPCirclePlayer({settings:b,parent:k}));var xa=Fb?k.find(".hap-progress-canvas"):k.find(".hap-seekbar");xa.on(ca.downEvent,function(a){if(b.disableSeekbarInRange&&wa||Sd||cc||x&&x.isAdOn()||!h)return!1;ha(a);return!1});if(!jb){var Ac=function(){xa.off(ca.moveEvent,S).off("mouseout",Ac);Ja.off("mouseout",Ac);t.hide()};xa.on("mouseover",function(){if(!fb){if(x&&x.isAdOn())return!1;
xa.on(ca.moveEvent,S).on("mouseout",Ac);Ja.on("mouseout",Ac)}})}var Hc=.5,Hb,gb=oa.hasClass("hap-volume-vertical"),Sa=gb?Ra.height():Ra.width();0>F?F=0:1<F&&(F=1);0!=F&&(Hc=F);oa.on(ca.downEvent,function(a){V(a);return!1});if(!jb){var Bc=function(){oa.off(ca.moveEvent,Ga).off("mouseout",Bc);Ja.off("mouseout",Bc);t.hide()};oa.on("mouseover",function(){Hb||(oa.on(ca.moveEvent,Ga).on("mouseout",Bc),Ja.on("mouseout",Bc))})}var ua=k.find(".hap-range-handle-a"),Aa=k.find(".hap-range-handle-b"),jd=parseInt(ua.attr("data-width"),
10),Ae=parseInt(Aa.attr("data-width"),10),la,Na,Cc,Dc,wa,ka;g.toggleRange=function(){h&&(wa?(ua.css("display","none"),Aa.css("display","none"),ka=!0):(ua.css("display","block"),Aa.css("display","block"),Cc=parseInt(ua.css("left"),10),Dc=parseInt(Aa.css("left"),10),la=W(Cc),Na=W(Dc),ka=!1),(wa=!wa)?Cb.addClass("hap-contr-btn-hover"):Cb.removeClass("hap-contr-btn-hover"))};g.resetRange=function(){wa=!1;ka=!0;ua.css({display:"none",left:"0px"});Aa.css({display:"none",left:M+"px"});Cb.removeClass("hap-contr-btn-hover")};
g.setRange=function(a,b){var c=g.getDuration();if("undefined"===typeof c)return!1;0>a&&(a=0);b>c&&(b=c);la=a;Na=b;ka=!1;ua.css("left",la/c*M+"px");Aa.css("left",Na/c*M+"px");wa||g.toggleRange()};g.getRange=function(){return"undefined"!==typeof la&&"undefined"!==typeof Na?[la,Na]:null};if(ua.length){var db=!0;var Zb=new HAPRangeSlider({settings:b,range_handle_a:ua,range_handle_b:Aa});c(Zb).on("HAPRangeSlider.RANGE_CHANGE",function(a,b){var c=b.point.pageX-Gb.offset().left,d=b.elem;0>c?c=0:c>M&&(c=
M);d.hasClass("hap-range-handle-a")?(c>parseInt(Aa.css("left"),10)-Ae&&(c=parseInt(Aa.css("left"),10)-jd),Cc=c,la=W(Cc)):(c<parseInt(ua.css("left"),10)+jd&&(c=parseInt(ua.css("left"),10)+jd),Dc=c,Na=W(Dc));d.css("left",c+"px");b.event?S(b.event):t.hide()})}var kd=k.find(".hap-playback-rate-seekbar");if(kd.length){var eb=new HAPPlaybackRateSlider({settings:b,wrapper:k,seekbar:kd,sliderBg:k.find(".hap-playback-rate-bg"),sliderLevel:k.find(".hap-playback-rate-level"),isVertical:kd.hasClass("hap-vertical"),
tooltip:t});c(eb).on("HAPPlaybackRateSlider.RANGE_CHANGE",function(a,b){g.setPlaybackRate(b.value,!0)})}if(b.disableRightClickOverPlayer)k.on("contextmenu",function(){return!1});if(xe)Ja.off("keyup.hap").on("keyup.hap",function(a){if(!p)return!1;var b=a.keyCode,e=c(a.target);if(37==b)g.previousMedia();else if(39==b)g.nextMedia();else if(32==b){if(e.hasClass("hap-search-filter"))return!1;g.togglePlayback();a.preventDefault()}else if(77==b){if(e.hasClass("hap-search-filter"))return!1;T()}});var Td=
[k.find(".hap-next-toggle"),k.find(".hap-prev-toggle"),k.find(".hap-playlist-toggle"),k.find(".hap-playlist-close"),gc,k.find(".hap-share-close"),k.find(".hap-share-item"),k.find(".hap-playback-rate-close"),fc,Cb,ve,Ka,ea,hb,Ca,qb];hd=Td.length;for(bb=0;bb<hd;bb++)c(Td[bb]).css("cursor","pointer").on("click",Eb);window.onbeforeunload=function(a){mb&&L&&vb("hap_play_count",L)};var Ud="onorientationchange"in window?"orientationchange":"resize";pb.on(Ud,function(){if(!p)return!1;id&&clearTimeout(id);
id=setTimeout(Ed,150)});mb&&(k.on("click",".hap-like-count",function(a){if(!p||!h)return!1;a=c(this).closest(".hap-playlist-item");vb("hap_like_count",a)}),k.on("click",".hap-download-count:not(.hap-no-download)",function(a){if(!p||!h)return!1;a=c(this).closest(".hap-playlist-item");vb("hap_download_count",a)}));this.playMedia=function(){if(!p||!h||$a)return!1;if("youtube"==h)u&&X&&u.playVideo();else if(l){"shoutcast"!=h&&"icecast"!=h&&"radiojar"!=h||l.load();var a=l.play();void 0!==a&&a.then(function(){})["catch"](function(a){})}};
this.pauseMedia=function(){if(!p||!h||!$a)return!1;"youtube"==h?u&&X&&u.pauseVideo():l&&l.pause()};this.checkMedia=function(a){if(!p||!h)return!1;a=a.toLowerCase();$a&&"pause"==a&&("youtube"==h?u&&X&&u.pauseVideo():l&&l.pause())};this.togglePlayback=function(){if(!p||!h)return!1;x&&x.clearAdMidTimeout();if(x&&x.isAdMidOn())x.toggleAdMidAudio();else if("youtube"==h){if(u&&X){var a=u.getPlayerState();1==a?u.pauseVideo():2==a?u.playVideo():(-1==a||5==a||0==a)&&u.playVideo()}}else l&&(l.paused?("shoutcast"!=
h&&"icecast"!=h&&"radiojar"!=h||l.load(),a=l.play(),void 0!==a&&a.then(function(){x&&x.isAdPreOn()&&(ea.find(".hap-btn-play").hide(),ea.find(".hap-btn-pause").show())})["catch"](function(a){})):(l.pause(),x&&x.isAdPreOn()&&(ea.find(".hap-btn-play").show(),ea.find(".hap-btn-pause").hide())))};this.nextMedia=function(){if(!p)return!1;0!=w&&(Ib(),E.advanceHandler(1,!0))};this.previousMedia=function(){if(!p)return!1;0!=w&&(Ib(),E.advanceHandler(-1,!0))};this.loadMedia=function(a,b,c,e){if(!p||R)return!1;
if(0!=w){var d=-1;if("title"==a){for(a=0;a<w;a++)if(b==H[a].data.title){d=a;var f=!0;break}if(!f)return alert('No media with title "'+b+'" to load! LoadMedia failed.'),!1}else if("counter"==a){if(0>b||b>w-1)return alert('Invalid track number. Track number  "'+b+'" doesnt exist. LoadMedia failed.'),!1;d=b}else if("id"==a){var g=y.find(".hap-playlist-item[data-media-id="+b+"]");if(0==g.length)return alert("No media with media ID "+b+" to load! LoadMedia failed."),!1;d=g.attr("data-id")}else if("id-title"==
a){c&&e?g=y.find('.hap-playlist-item[data-media-id="'+b+'"][title="'+c+'"][data-artist="'+e+'"]'):c?g=y.find('.hap-playlist-item[data-media-id="'+b+'"][title="'+c+'"]'):e&&(g=y.find('.hap-playlist-item[data-media-id="'+b+'"][data-artist="'+e+'"]'));if(0==g.length)return alert("No media with media ID "+b+" to load! LoadMedia failed."),!1;d=g.attr("data-id")}else return console.log("loadMedia function requires format parameter!"),!1;Ib();E.processPlaylistRequest(d)}};this.loadMore=function(){if(!p||
!qa||!P||R)return!1;R=!0;ya.show();ta=!0;J=[];"soundcloud"==qa?zd():"folder"==qa?yd():"youtube"==qa&&(Wa||Oc("youtube"),Wa.resumeLoad(P))};this.setLoadMore=function(a){ra=a};this.endLoadMore=function(){R=!1;playerLoader.hide();ta=!1};this.addMore=function(){if(!p||R)return!1;Za&&(ta||Vc())};this.setAddMore=function(a){Za=a};this.loadPlaylist=function(a){if(!p||R)return!1;if("undefined"===typeof a||HAPUtils.isEmpty(a))return alert("loadPlaylist method requires id parameter. loadPlaylist failed."),
!1;if(b.activePlaylist==a)return!1;ld(a)};this.addTrack=function(a,b,c){if(!p||R)return!1;if("undefined"===typeof a)return alert("addTrack method requires track parameter. AddTrack failed."),!1;Rb=!1;"undefined"!==typeof b&&(Rb=b);da=c;ub=!1;Ya=!0;if(Ta)if("undefined"!==typeof da){if(0>da||da>w)return alert('Invalid position to insert track to. Position number "'+c+'" doesnt exist. AddTrack failed.'),!1;da==w&&(ub=!0)}else ub=!0,da=w;else{if("undefined"!==typeof da){if(0!=da)return alert('Invalid position to insert track to. Position number "'+
c+'" doesnt exist. AddTrack failed.'),!1}else da=0;ub=!0}R=!0;ya.show();Ua=-1;J=[];N=[];Array.isArray(a)?N=a:N.push(a);w=N.length;lb=!1;Ta||(lb=!0);Ta=y;I()};this.inputAudio=function(a){if(!p||R)return!1;if("undefined"===typeof a)return alert("inputAudio method requires data parameter. inputAudio failed."),!1;L&&Ia();0<w&&E.reSetCounter();f=a;h=a.type;if(-1==Rd.indexOf(h))return alert("inputAudio method supports tracks that dont require processing: "+Rd),!1;"shoutcast"!=h&&"icecast"!=h&&"radiojar"!=
h&&($c(),ed&&C());ja=!0;Tb()};this.removeTrack=function(a,b){if(!p||R)return!1;if(0!=w){if("title"==a){var c;for(c=0;c<w;c++)if(b==H[c].data.title){var d=y.children(".hap-playlist-item").eq(c);var e=!0;break}if(!e)return alert('Track with title "'+b+'" doesnt exist. RemoveTrack failed.'),!1}else if("counter"==a){b=parseInt(b,10);if(0>b||b>w-1)return alert('Track number  "'+b+'" doesnt exist. RemoveTrack failed.'),!1;d=y.find(".hap-playlist-item").eq(b)}else if("id"==a){if(d=y.find(".hap-playlist-item[data-media-id="+
b+"]"),0==d.length)return alert('Track with media id "'+b+'" doesnt exist. RemoveTrack failed.'),!1}else return alert("removeTrack method failed."),!1;d.remove();H.splice(parseInt(d.attr("data-id"),10),1);Qb(!0);0<w?(d=E.getCounter(),b==d?(Wb(),E.setPlaylistItems(w)):(E.setPlaylistItems(w,!1),b<d&&E.reSetCounter(E.getCounter()-1))):hc()}};this.sort=function(a){if(!p||3>w)return!1;if("undefined"===typeof a)return console.log("Sort method requires order parameter. Sort method failed."),!1;if(pa==e)return!1;
var b=y.children(".hap-playlist-item"),e=a.toLowerCase();if("title-asc"==e){HAPUtils.keysrt2(H,"data","title");var f;a=[];for(f=0;f<w;f++)a.push(H[f].id);Ka.find(".hap-btn-sort-alpha-up").hide();Ka.find(".hap-btn-sort-alpha-down").show()}else if("title-desc"==e){HAPUtils.keysrt2(H,"data","title",!0);a=[];for(f=0;f<w;f++)a.push(H[f].id);Ka.find(".hap-btn-sort-alpha-up").show();Ka.find(".hap-btn-sort-alpha-down").hide()}else if("random"==e)a=HAPUtils.randomiseArray(w),H=HAPUtils.sortArray(H,a);else{console.log("Unknown sort order. Sort method failed.");
return}pa=e;e=nb;y.append(c.map(a,function(a){return b[a]}));-1!=e&&(e=y.children(".hap-playlist-item[data-id='"+e+"']").index(),E.reSetCounter(e));Qb(!0)};this.destroyInstance=function(){pb&&pb.off(Ud);hc();Wb();Mb&&(kb.mCustomScrollbar("destroy"),nc=!1)};this.destroyMedia=function(){if(!p)return!1;p&&h&&(L&&Ia(),Wb(),E.reSetCounter())};this.destroyPlaylist=function(){if(!p)return!1;hc()};this.setPlaybackRate=function(a,b){if(!p||!h)return!1;f.playbackRate=a;xb&&(xb=a);"youtube"==h?u.setPlaybackRate(a):
l&&(l.playbackRate=a);b||eb&&eb.setVisual(a)};this.toggleRandom=function(a){if(!p||"undefined"===typeof E)return!1;Ba="undefined"!==typeof a?a:!Ba;E.setRandom(Ba);Ca.find(".hap-btn").hide();Ba?Ca.find(".hap-btn-random-on").show():Ca.find(".hap-btn-random-off").show()};this.setLoop=function(a){if(!p||"undefined"===typeof E)return!1;hb.find(".hap-btn").hide();Z=a;ib=Lb.indexOf(Z);hb.find(".hap-btn-loop-"+Z).show();E.setLooping(Z)};this.getVolume=function(){return F};this.setVolume=function(a){if(!p)return!1;
0>a?a=0:1<a&&(a=1);O(a)};this.toggleMute=function(){if(!p)return!1;T()};this.disableSeek=function(a){Sd=a};this.seek=function(a){if(!p||!h)return!1;if("youtube"==h)u&&X&&u.seekTo(a);else if("audio"==h&&l)try{l.currentTime=a}catch(d){console.log(d)}};this.seekBackward=function(a){if(!p||!h)return!1;if("youtube"==h)u&&X&&(a=Math.max(u.getCurrentTime()-(a||10),0),u.seekTo(a));else if("audio"==h&&l)try{l.currentTime=Math.max(l.currentTime-10,0)}catch(d){console.log(d)}};this.seekForward=function(a){if(!p||
!h)return!1;if("youtube"==h)u&&X&&(a=Math.min(u.getCurrentTime()+(a||10),u.getDuration()),u.seekTo(a));else if("audio"==h&&l)try{l.currentTime=Math.min(l.currentTime+(a||10),l.duration)}catch(d){console.log(d)}};this.getCurrentTime=function(){if("youtube"==h)return u&&X?u.getCurrentTime():0;if("audio"==h){if(l)return l.currentTime}else return 0};this.getDuration=function(){if(!p||!h)return!1;if("youtube"==h){if(u&&X)return u.getDuration()}else if("audio"==h&&l)return l.duration};this.destroyPlaylistScroll=
function(){if(!p)return!1;Mb&&(kb.mCustomScrollbar("destroy"),nc=!1)};this.getSetupDone=function(){return p};this.getMediaPlaying=function(){return p?$a:!1};this.getPlaylistLoading=function(){return R};this.getCounter=function(){return p?"undefined"!==typeof E?E.getCounter():-1:null};this.getPlaylistContent=function(){return y};this.getPlaylistData=function(){return H};this.getPlaylistLength=function(){return p?HAPUtils.isNumber(w)?w:0:!1};this.getPlaylistList=function(){return Mc};this.getSettings=
function(){return b};this.getCurrMediaData=function(){return p?f:!1};this.getWrapper=function(){return k};this.getPlaylistItems=function(){if(!p)return!1;var a=[];y.find(".hap-playlist-item").each(function(){a.push(c(this))});return a};this.openPopup=function(){if(!p||b.isPopup)return!1;hapOpenPopup(b,g)};this.togglePlaylist=function(){if(-1<Y.indexOf("hap-art-narrow-light")||-1<Y.indexOf("hap-art-narrow-dark")){var a=350;va?(yc.stop().animate({left:"0px"},{duration:a}),Oa.stop().animate({left:-yc.width()+
"px"},{duration:a})):(yc.stop().animate({left:yc.width()+"px"},{duration:a}),Oa.stop().animate({left:"0px"},{duration:a}));va=!va}else if(-1<Y.indexOf("hap-art-wide-light")||-1<Y.indexOf("hap-art-wide-dark")||-1<Y.indexOf("hap-brona-light")||-1<Y.indexOf("hap-brona-dark")){a=350;if(va)Oa.stop().animate({height:"0px"},{duration:a});else{var b=Oa.css("height","auto").height();Oa.height(0).stop().animate({height:b+"px"},{duration:a},function(){c(this).height("auto")})}va=!va}else-1<Y.indexOf("hap-wall")?
(va?Oa.css("left","-20000px"):Oa.css("left",0),va=!va):-1<Y.indexOf("hap-classic")&&(va?Oa.slideUp():Oa.slideDown(),va=!va)};this.openPopup=function(){if(!p||b.isPopup)return!1;hapOpenPopup(b,g)};if(Nd&&localStorage.getItem(Xb)){var Db=JSON.parse(localStorage.getItem(Xb));b.activePlaylist=Db.activePlaylist;b.resumeTime=Db.resumeTime;b.volume=Db.volume;b.activeItem=Db.activeItem;ja=b.autoPlay=Db.autoPlay;b.lastPositionArr=Db.lastPositionArr;localStorage.removeItem(Xb)}if(gd.length){var R=!0;ya.show();
c(g).trigger("playlistStartLoad",{instance:g,instanceName:K});N=gd;w=N.length;I()}else b.activePlaylist&&!HAPUtils.isEmpty(b.activePlaylist)?ld(b.activePlaylist):Tc();return this}})(jQuery);var hap_popup_window,hap_player_instance,hasLocalStorage=HAPUtils.hasLocalStorage();
function hapOpenPopup(c,b){localStorage.removeItem("hap_popup");if(!hasLocalStorage||!localStorage.getItem("hap_popup")){hap_player_instance=b;var e=c.popupUrl||c.sourcePath+"popup.html?rand="+99999999*Math.random(),Q=c.popupWidth||hap_player_instance.width(),q=c.popupHeight||hap_player_instance.height(),A=(window.screen.width-Q)/2,C=(window.screen.height-q)/2;if(!hap_popup_window||hap_popup_window.closed)if(hap_popup_window=window.open(e,"audio_player","menubar=no,toolbar=no,location=no,scrollbars=1,resizable,width="+
Q+",height="+q+",left="+A+",top="+C),!hap_popup_window)return alert("Player can not be opened in a popup window because your browser is blocking Pop-Ups. You need to allow Pop-Ups in browser for this site to use the Player."),!1}}
function hapNotifyParent(){if(hap_player_instance&&hap_popup_window&&void 0!=hap_popup_window.initPopup){var c=hap_player_instance.getSettings();c.volume=hap_player_instance.getVolume();c.activePlaylist=c.activePlaylist;c.activeItem=hap_player_instance.getCounter();c.resumeTime=hap_player_instance.getCurrentTime();c.autoPlay=hap_player_instance.getMediaPlaying();hap_player_instance.destroyInstance();var b=hap_player_instance.getWrapper(),e=b.attr("id"),Q=hapjq("#hap-inline-css").remove().wrap("<p>").parent().html(),
q=hapjq("#hap-playlist-list").remove().wrap("<p>").parent().html();b=b.remove().wrap("<p>").parent().html();try{window[c.instance]=hap_popup_window.initPopup(b,e,c,Q,q)}catch(A){return alert("initPopup error: "+A.message),!1}}};